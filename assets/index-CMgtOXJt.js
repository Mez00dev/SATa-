(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Gh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wd={exports:{}},di={},Sd={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wo=Symbol.for("react.element"),Hh=Symbol.for("react.portal"),zh=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),$h=Symbol.for("react.provider"),Jh=Symbol.for("react.context"),Oh=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Kh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),_a=Symbol.iterator;function Qh(t){return t===null||typeof t!="object"?null:(t=_a&&t[_a]||t["@@iterator"],typeof t=="function"?t:null)}var Ed={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Td=Object.assign,Cd={};function Zn(t,e,n){this.props=t,this.context=e,this.refs=Cd,this.updater=n||Ed}Zn.prototype.isReactComponent={};Zn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _d(){}_d.prototype=Zn.prototype;function vl(t,e,n){this.props=t,this.context=e,this.refs=Cd,this.updater=n||Ed}var xl=vl.prototype=new _d;xl.constructor=vl;Td(xl,Zn.prototype);xl.isPureReactComponent=!0;var Ia=Array.isArray,Id=Object.prototype.hasOwnProperty,wl={current:null},Nd={key:!0,ref:!0,__self:!0,__source:!0};function Ad(t,e,n){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Id.call(e,o)&&!Nd.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Wo,type:t,key:i,ref:l,props:r,_owner:wl.current}}function Xh(t,e){return{$$typeof:Wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wo}function Zh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Na=/\/+/g;function Ui(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zh(""+t.key):e.toString(36)}function wr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Wo:case Hh:l=!0}}if(l)return l=t,r=r(l),t=o===""?"."+Ui(l,0):o,Ia(r)?(n="",t!=null&&(n=t.replace(Na,"$&/")+"/"),wr(r,e,n,"",function(d){return d})):r!=null&&(Sl(r)&&(r=Xh(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(Na,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=o===""?".":o+":",Ia(t))for(var u=0;u<t.length;u++){i=t[u];var c=o+Ui(i,u);l+=wr(i,e,n,c,r)}else if(c=Qh(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=o+Ui(i,u++),l+=wr(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Zo(t,e,n){if(t==null)return t;var o=[],r=0;return wr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function jh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ve={current:null},Sr={transition:null},em={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Sr,ReactCurrentOwner:wl};function kd(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Zo,forEach:function(t,e,n){Zo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zo(t,function(){e++}),e},toArray:function(t){return Zo(t,function(e){return e})||[]},only:function(t){if(!Sl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=Zn;q.Fragment=zh;q.Profiler=qh;q.PureComponent=vl;q.StrictMode=Bh;q.Suspense=Wh;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=em;q.act=kd;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Td({},t.props),r=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=wl.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Id.call(e,c)&&!Nd.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Wo,type:t.type,key:r,ref:i,props:o,_owner:l}};q.createContext=function(t){return t={$$typeof:Jh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$h,_context:t},t.Consumer=t};q.createElement=Ad;q.createFactory=function(t){var e=Ad.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:Oh,render:t}};q.isValidElement=Sl;q.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:jh}};q.memo=function(t,e){return{$$typeof:Kh,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=Sr.transition;Sr.transition={};try{t()}finally{Sr.transition=e}};q.unstable_act=kd;q.useCallback=function(t,e){return Ve.current.useCallback(t,e)};q.useContext=function(t){return Ve.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return Ve.current.useDeferredValue(t)};q.useEffect=function(t,e){return Ve.current.useEffect(t,e)};q.useId=function(){return Ve.current.useId()};q.useImperativeHandle=function(t,e,n){return Ve.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return Ve.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return Ve.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return Ve.current.useMemo(t,e)};q.useReducer=function(t,e,n){return Ve.current.useReducer(t,e,n)};q.useRef=function(t){return Ve.current.useRef(t)};q.useState=function(t){return Ve.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return Ve.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return Ve.current.useTransition()};q.version="18.3.1";Sd.exports=q;var D=Sd.exports;const tm=Gh(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=D,om=Symbol.for("react.element"),rm=Symbol.for("react.fragment"),im=Object.prototype.hasOwnProperty,sm=nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lm={key:!0,ref:!0,__self:!0,__source:!0};function Rd(t,e,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)im.call(e,o)&&!lm.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:om,type:t,key:i,ref:l,props:r,_owner:sm.current}}di.Fragment=rm;di.jsx=Rd;di.jsxs=Rd;wd.exports=di;var m=wd.exports,us={},Md={exports:{}},Ke={},Pd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,V){var H=P.length;P.push(V);e:for(;0<H;){var K=H-1>>>1,se=P[K];if(0<r(se,V))P[K]=V,P[H]=se,H=K;else break e}}function n(P){return P.length===0?null:P[0]}function o(P){if(P.length===0)return null;var V=P[0],H=P.pop();if(H!==V){P[0]=H;e:for(var K=0,se=P.length,ht=se>>>1;K<ht;){var Te=2*(K+1)-1,wt=P[Te],Me=Te+1,B=P[Me];if(0>r(wt,H))Me<se&&0>r(B,wt)?(P[K]=B,P[Me]=H,K=Me):(P[K]=wt,P[Te]=H,K=Te);else if(Me<se&&0>r(B,H))P[K]=B,P[Me]=H,K=Me;else break e}}return V}function r(P,V){var H=P.sortIndex-V.sortIndex;return H!==0?H:P.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,h=null,p=3,g=!1,w=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var V=n(d);V!==null;){if(V.callback===null)o(d);else if(V.startTime<=P)o(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(d)}}function T(P){if(S=!1,x(P),!w)if(n(c)!==null)w=!0,Ee(C);else{var V=n(d);V!==null&&ee(T,V.startTime-P)}}function C(P,V){w=!1,S&&(S=!1,y(N),N=-1),g=!0;var H=p;try{for(x(V),h=n(c);h!==null&&(!(h.expirationTime>V)||P&&!z());){var K=h.callback;if(typeof K=="function"){h.callback=null,p=h.priorityLevel;var se=K(h.expirationTime<=V);V=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(c)&&o(c),x(V)}else o(c);h=n(c)}if(h!==null)var ht=!0;else{var Te=n(d);Te!==null&&ee(T,Te.startTime-V),ht=!1}return ht}finally{h=null,p=H,g=!1}}var I=!1,_=null,N=-1,k=5,R=-1;function z(){return!(t.unstable_now()-R<k)}function J(){if(_!==null){var P=t.unstable_now();R=P;var V=!0;try{V=_(!0,P)}finally{V?F():(I=!1,_=null)}}else I=!1}var F;if(typeof v=="function")F=function(){v(J)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Se=de.port2;de.port1.onmessage=J,F=function(){Se.postMessage(null)}}else F=function(){E(J,0)};function Ee(P){_=P,I||(I=!0,F())}function ee(P,V){N=E(function(){P(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Ee(C))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var H=p;p=V;try{return P()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var H=p;p=P;try{return V()}finally{p=H}},t.unstable_scheduleCallback=function(P,V,H){var K=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,P={id:f++,callback:V,priorityLevel:P,startTime:H,expirationTime:se,sortIndex:-1},H>K?(P.sortIndex=H,e(d,P),n(c)===null&&P===n(d)&&(S?(y(N),N=-1):S=!0,ee(T,H-K))):(P.sortIndex=se,e(c,P),w||g||(w=!0,Ee(C))),P},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(P){var V=p;return function(){var H=p;p=V;try{return P.apply(this,arguments)}finally{p=H}}}})(Dd);Pd.exports=Dd;var am=Pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=D,We=am;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ld=new Set,ko={};function yn(t,e){$n(t,e),$n(t+"Capture",e)}function $n(t,e){for(ko[t]=e,t=0;t<e.length;t++)Ld.add(e[t])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=Object.prototype.hasOwnProperty,cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aa={},ka={};function dm(t){return cs.call(ka,t)?!0:cs.call(Aa,t)?!1:cm.test(t)?ka[t]=!0:(Aa[t]=!0,!1)}function fm(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pm(t,e,n,o){if(e===null||typeof e>"u"||fm(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function be(t,e,n,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){we[t]=new be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];we[e]=new be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){we[t]=new be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){we[t]=new be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){we[t]=new be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){we[t]=new be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){we[t]=new be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){we[t]=new be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){we[t]=new be(t,5,!1,t.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function Tl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(El,Tl);we[e]=new be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(El,Tl);we[e]=new be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(El,Tl);we[e]=new be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){we[t]=new be(t,1,!1,t.toLowerCase(),null,!1,!1)});we.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){we[t]=new be(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cl(t,e,n,o){var r=we.hasOwnProperty(e)?we[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pm(e,n,r,o)&&(n=null),o||r===null?dm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var Mt=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),En=Symbol.for("react.portal"),Tn=Symbol.for("react.fragment"),_l=Symbol.for("react.strict_mode"),ds=Symbol.for("react.profiler"),Ud=Symbol.for("react.provider"),Fd=Symbol.for("react.context"),Il=Symbol.for("react.forward_ref"),fs=Symbol.for("react.suspense"),ps=Symbol.for("react.suspense_list"),Nl=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Vd=Symbol.for("react.offscreen"),Ra=Symbol.iterator;function ro(t){return t===null||typeof t!="object"?null:(t=Ra&&t[Ra]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,Fi;function mo(t){if(Fi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fi=e&&e[1]||""}return`
`+Fi+t}var Vi=!1;function bi(t,e){if(!t||Vi)return"";Vi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){o=d}t.call(e.prototype)}else{try{throw Error()}catch(d){o=d}t()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{Vi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mo(t):""}function hm(t){switch(t.tag){case 5:return mo(t.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return t=bi(t.type,!1),t;case 11:return t=bi(t.type.render,!1),t;case 1:return t=bi(t.type,!0),t;default:return""}}function hs(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tn:return"Fragment";case En:return"Portal";case ds:return"Profiler";case _l:return"StrictMode";case fs:return"Suspense";case ps:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fd:return(t.displayName||"Context")+".Consumer";case Ud:return(t._context.displayName||"Context")+".Provider";case Il:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nl:return e=t.displayName||null,e!==null?e:hs(t.type)||"Memo";case Ut:e=t._payload,t=t._init;try{return hs(t(e))}catch{}}return null}function mm(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hs(e);case 8:return e===_l?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gm(t){var e=bd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function er(t){t._valueTracker||(t._valueTracker=gm(t))}function Gd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=bd(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function Ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ms(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ma(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Yt(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hd(t,e){e=e.checked,e!=null&&Cl(t,"checked",e,!1)}function gs(t,e){Hd(t,e);var n=Yt(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ys(t,e.type,n):e.hasOwnProperty("defaultValue")&&ys(t,e.type,Yt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Pa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ys(t,e,n){(e!=="number"||Ur(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var go=Array.isArray;function Fn(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Yt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function vs(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Da(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(go(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yt(n)}}function zd(t,e){var n=Yt(e.value),o=Yt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function La(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xs(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tr,qd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ro(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ym=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(t){ym.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wo[e]=wo[t]})});function $d(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wo.hasOwnProperty(t)&&wo[t]?(""+e).trim():e+"px"}function Jd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=$d(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var vm=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ws(t,e){if(e){if(vm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Ss(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function Al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,Vn=null,bn=null;function Ua(t){if(t=Qo(t)){if(typeof Ts!="function")throw Error(A(280));var e=t.stateNode;e&&(e=gi(e),Ts(t.stateNode,t.type,e))}}function Od(t){Vn?bn?bn.push(t):bn=[t]:Vn=t}function Wd(){if(Vn){var t=Vn,e=bn;if(bn=Vn=null,Ua(t),e)for(t=0;t<e.length;t++)Ua(e[t])}}function Kd(t,e){return t(e)}function Yd(){}var Gi=!1;function Qd(t,e,n){if(Gi)return t(e,n);Gi=!0;try{return Kd(t,e,n)}finally{Gi=!1,(Vn!==null||bn!==null)&&(Yd(),Wd())}}function Mo(t,e){var n=t.stateNode;if(n===null)return null;var o=gi(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Cs=!1;if(It)try{var io={};Object.defineProperty(io,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Cs=!1}function xm(t,e,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var So=!1,Fr=null,Vr=!1,_s=null,wm={onError:function(t){So=!0,Fr=t}};function Sm(t,e,n,o,r,i,l,u,c){So=!1,Fr=null,xm.apply(wm,arguments)}function Em(t,e,n,o,r,i,l,u,c){if(Sm.apply(this,arguments),So){if(So){var d=Fr;So=!1,Fr=null}else throw Error(A(198));Vr||(Vr=!0,_s=d)}}function vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fa(t){if(vn(t)!==t)throw Error(A(188))}function Tm(t){var e=t.alternate;if(!e){if(e=vn(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Fa(r),t;if(i===o)return Fa(r),e;i=i.sibling}throw Error(A(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(A(189))}}if(n.alternate!==o)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function Zd(t){return t=Tm(t),t!==null?jd(t):null}function jd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jd(t);if(e!==null)return e;t=t.sibling}return null}var ef=We.unstable_scheduleCallback,Va=We.unstable_cancelCallback,Cm=We.unstable_shouldYield,_m=We.unstable_requestPaint,ae=We.unstable_now,Im=We.unstable_getCurrentPriorityLevel,kl=We.unstable_ImmediatePriority,tf=We.unstable_UserBlockingPriority,br=We.unstable_NormalPriority,Nm=We.unstable_LowPriority,nf=We.unstable_IdlePriority,fi=null,vt=null;function Am(t){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(fi,t,void 0,(t.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Mm,km=Math.log,Rm=Math.LN2;function Mm(t){return t>>>=0,t===0?32:31-(km(t)/Rm|0)|0}var nr=64,or=4194304;function yo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=yo(u):(i&=l,i!==0&&(o=yo(i)))}else l=n&~r,l!==0?o=yo(l):i!==0&&(o=yo(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-at(e),r=1<<n,o|=t[n],e&=~r;return o}function Pm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dm(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-at(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=Pm(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function Is(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function of(){var t=nr;return nr<<=1,!(nr&4194240)&&(nr=64),t}function Hi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ko(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-at(e),t[e]=n}function Lm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-at(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function Rl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-at(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var Y=0;function rf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sf,Ml,lf,af,uf,Ns=!1,rr=[],zt=null,Bt=null,qt=null,Po=new Map,Do=new Map,Vt=[],Um="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ba(t,e){switch(t){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Po.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(e.pointerId)}}function so(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Qo(e),e!==null&&Ml(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Fm(t,e,n,o,r){switch(e){case"focusin":return zt=so(zt,t,e,n,o,r),!0;case"dragenter":return Bt=so(Bt,t,e,n,o,r),!0;case"mouseover":return qt=so(qt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return Po.set(i,so(Po.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Do.set(i,so(Do.get(i)||null,t,e,n,o,r)),!0}return!1}function cf(t){var e=ln(t.target);if(e!==null){var n=vn(e);if(n!==null){if(e=n.tag,e===13){if(e=Xd(n),e!==null){t.blockedOn=e,uf(t.priority,function(){lf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Er(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=As(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);Es=o,n.target.dispatchEvent(o),Es=null}else return e=Qo(n),e!==null&&Ml(e),t.blockedOn=n,!1;e.shift()}return!0}function Ga(t,e,n){Er(t)&&n.delete(e)}function Vm(){Ns=!1,zt!==null&&Er(zt)&&(zt=null),Bt!==null&&Er(Bt)&&(Bt=null),qt!==null&&Er(qt)&&(qt=null),Po.forEach(Ga),Do.forEach(Ga)}function lo(t,e){t.blockedOn===e&&(t.blockedOn=null,Ns||(Ns=!0,We.unstable_scheduleCallback(We.unstable_NormalPriority,Vm)))}function Lo(t){function e(r){return lo(r,t)}if(0<rr.length){lo(rr[0],t);for(var n=1;n<rr.length;n++){var o=rr[n];o.blockedOn===t&&(o.blockedOn=null)}}for(zt!==null&&lo(zt,t),Bt!==null&&lo(Bt,t),qt!==null&&lo(qt,t),Po.forEach(e),Do.forEach(e),n=0;n<Vt.length;n++)o=Vt[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)cf(n),n.blockedOn===null&&Vt.shift()}var Gn=Mt.ReactCurrentBatchConfig,Hr=!0;function bm(t,e,n,o){var r=Y,i=Gn.transition;Gn.transition=null;try{Y=1,Pl(t,e,n,o)}finally{Y=r,Gn.transition=i}}function Gm(t,e,n,o){var r=Y,i=Gn.transition;Gn.transition=null;try{Y=4,Pl(t,e,n,o)}finally{Y=r,Gn.transition=i}}function Pl(t,e,n,o){if(Hr){var r=As(t,e,n,o);if(r===null)Qi(t,e,o,zr,n),ba(t,o);else if(Fm(r,t,e,n,o))o.stopPropagation();else if(ba(t,o),e&4&&-1<Um.indexOf(t)){for(;r!==null;){var i=Qo(r);if(i!==null&&sf(i),i=As(t,e,n,o),i===null&&Qi(t,e,o,zr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Qi(t,e,o,null,n)}}var zr=null;function As(t,e,n,o){if(zr=null,t=Al(o),t=ln(t),t!==null)if(e=vn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zr=t,null}function df(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Im()){case kl:return 1;case tf:return 4;case br:case Nm:return 16;case nf:return 536870912;default:return 16}default:return 16}}var Gt=null,Dl=null,Tr=null;function ff(){if(Tr)return Tr;var t,e=Dl,n=e.length,o,r="value"in Gt?Gt.value:Gt.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(o=1;o<=l&&e[n-o]===r[i-o];o++);return Tr=r.slice(t,1<o?1-o:void 0)}function Cr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function Ha(){return!1}function Ye(t){function e(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ir:Ha,this.isPropagationStopped=Ha,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),e}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Ye(jn),Yo=ie({},jn,{view:0,detail:0}),Hm=Ye(Yo),zi,Bi,ao,pi=ie({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ao&&(ao&&t.type==="mousemove"?(zi=t.screenX-ao.screenX,Bi=t.screenY-ao.screenY):Bi=zi=0,ao=t),zi)},movementY:function(t){return"movementY"in t?t.movementY:Bi}}),za=Ye(pi),zm=ie({},pi,{dataTransfer:0}),Bm=Ye(zm),qm=ie({},Yo,{relatedTarget:0}),qi=Ye(qm),$m=ie({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jm=Ye($m),Om=ie({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wm=Ye(Om),Km=ie({},jn,{data:0}),Ba=Ye(Km),Ym={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xm[t])?!!e[t]:!1}function Ul(){return Zm}var jm=ie({},Yo,{key:function(t){if(t.key){var e=Ym[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eg=Ye(jm),tg=ie({},pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=Ye(tg),ng=ie({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),og=Ye(ng),rg=ie({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ig=Ye(rg),sg=ie({},pi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lg=Ye(sg),ag=[9,13,27,32],Fl=It&&"CompositionEvent"in window,Eo=null;It&&"documentMode"in document&&(Eo=document.documentMode);var ug=It&&"TextEvent"in window&&!Eo,pf=It&&(!Fl||Eo&&8<Eo&&11>=Eo),$a=" ",Ja=!1;function hf(t,e){switch(t){case"keyup":return ag.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cn=!1;function cg(t,e){switch(t){case"compositionend":return mf(e);case"keypress":return e.which!==32?null:(Ja=!0,$a);case"textInput":return t=e.data,t===$a&&Ja?null:t;default:return null}}function dg(t,e){if(Cn)return t==="compositionend"||!Fl&&hf(t,e)?(t=ff(),Tr=Dl=Gt=null,Cn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pf&&e.locale!=="ko"?null:e.data;default:return null}}var fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fg[t.type]:e==="textarea"}function gf(t,e,n,o){Od(o),e=Br(e,"onChange"),0<e.length&&(n=new Ll("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var To=null,Uo=null;function pg(t){Nf(t,0)}function hi(t){var e=Nn(t);if(Gd(e))return t}function hg(t,e){if(t==="change")return e}var yf=!1;if(It){var $i;if(It){var Ji="oninput"in document;if(!Ji){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Ji=typeof Wa.oninput=="function"}$i=Ji}else $i=!1;yf=$i&&(!document.documentMode||9<document.documentMode)}function Ka(){To&&(To.detachEvent("onpropertychange",vf),Uo=To=null)}function vf(t){if(t.propertyName==="value"&&hi(Uo)){var e=[];gf(e,Uo,t,Al(t)),Qd(pg,e)}}function mg(t,e,n){t==="focusin"?(Ka(),To=e,Uo=n,To.attachEvent("onpropertychange",vf)):t==="focusout"&&Ka()}function gg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hi(Uo)}function yg(t,e){if(t==="click")return hi(e)}function vg(t,e){if(t==="input"||t==="change")return hi(e)}function xg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ft=typeof Object.is=="function"?Object.is:xg;function Fo(t,e){if(ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!cs.call(e,r)||!ft(t[r],e[r]))return!1}return!0}function Ya(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qa(t,e){var n=Ya(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ya(n)}}function xf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wf(){for(var t=window,e=Ur();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ur(t.document)}return e}function Vl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wg(t){var e=wf(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xf(n.ownerDocument.documentElement,n)){if(o!==null&&Vl(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=Qa(n,i);var l=Qa(n,o);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sg=It&&"documentMode"in document&&11>=document.documentMode,_n=null,ks=null,Co=null,Rs=!1;function Xa(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rs||_n==null||_n!==Ur(o)||(o=_n,"selectionStart"in o&&Vl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Co&&Fo(Co,o)||(Co=o,o=Br(ks,"onSelect"),0<o.length&&(e=new Ll("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=_n)))}function sr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var In={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionend:sr("Transition","TransitionEnd")},Oi={},Sf={};It&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function mi(t){if(Oi[t])return Oi[t];if(!In[t])return t;var e=In[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sf)return Oi[t]=e[n];return t}var Ef=mi("animationend"),Tf=mi("animationiteration"),Cf=mi("animationstart"),_f=mi("transitionend"),If=new Map,Za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(t,e){If.set(t,e),yn(e,[t])}for(var Wi=0;Wi<Za.length;Wi++){var Ki=Za[Wi],Eg=Ki.toLowerCase(),Tg=Ki[0].toUpperCase()+Ki.slice(1);Xt(Eg,"on"+Tg)}Xt(Ef,"onAnimationEnd");Xt(Tf,"onAnimationIteration");Xt(Cf,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(_f,"onTransitionEnd");$n("onMouseEnter",["mouseout","mouseover"]);$n("onMouseLeave",["mouseout","mouseover"]);$n("onPointerEnter",["pointerout","pointerover"]);$n("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cg=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function ja(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Em(o,e,void 0,t),t.currentTarget=null}function Nf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;ja(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;ja(r,u,d),i=c}}}if(Vr)throw t=_s,Vr=!1,_s=null,t}function Z(t,e){var n=e[Us];n===void 0&&(n=e[Us]=new Set);var o=t+"__bubble";n.has(o)||(Af(e,t,2,!1),n.add(o))}function Yi(t,e,n){var o=0;e&&(o|=4),Af(n,t,o,e)}var lr="_reactListening"+Math.random().toString(36).slice(2);function Vo(t){if(!t[lr]){t[lr]=!0,Ld.forEach(function(n){n!=="selectionchange"&&(Cg.has(n)||Yi(n,!1,t),Yi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lr]||(e[lr]=!0,Yi("selectionchange",!1,e))}}function Af(t,e,n,o){switch(df(e)){case 1:var r=bm;break;case 4:r=Gm;break;default:r=Pl}n=r.bind(null,e,n,t),r=void 0,!Cs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Qi(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=ln(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}Qd(function(){var d=i,f=Al(n),h=[];e:{var p=If.get(t);if(p!==void 0){var g=Ll,w=t;switch(t){case"keypress":if(Cr(n)===0)break e;case"keydown":case"keyup":g=eg;break;case"focusin":w="focus",g=qi;break;case"focusout":w="blur",g=qi;break;case"beforeblur":case"afterblur":g=qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=og;break;case Ef:case Tf:case Cf:g=Jm;break;case _f:g=ig;break;case"scroll":g=Hm;break;case"wheel":g=lg;break;case"copy":case"cut":case"paste":g=Wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=qa}var S=(e&4)!==0,E=!S&&t==="scroll",y=S?p!==null?p+"Capture":null:p;S=[];for(var v=d,x;v!==null;){x=v;var T=x.stateNode;if(x.tag===5&&T!==null&&(x=T,y!==null&&(T=Mo(v,y),T!=null&&S.push(bo(v,T,x)))),E)break;v=v.return}0<S.length&&(p=new g(p,w,null,n,f),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Es&&(w=n.relatedTarget||n.fromElement)&&(ln(w)||w[Nt]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=d,w=w?ln(w):null,w!==null&&(E=vn(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=d),g!==w)){if(S=za,T="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(S=qa,T="onPointerLeave",y="onPointerEnter",v="pointer"),E=g==null?p:Nn(g),x=w==null?p:Nn(w),p=new S(T,v+"leave",g,n,f),p.target=E,p.relatedTarget=x,T=null,ln(f)===d&&(S=new S(y,v+"enter",w,n,f),S.target=x,S.relatedTarget=E,T=S),E=T,g&&w)t:{for(S=g,y=w,v=0,x=S;x;x=wn(x))v++;for(x=0,T=y;T;T=wn(T))x++;for(;0<v-x;)S=wn(S),v--;for(;0<x-v;)y=wn(y),x--;for(;v--;){if(S===y||y!==null&&S===y.alternate)break t;S=wn(S),y=wn(y)}S=null}else S=null;g!==null&&eu(h,p,g,S,!1),w!==null&&E!==null&&eu(h,E,w,S,!0)}}e:{if(p=d?Nn(d):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=hg;else if(Oa(p))if(yf)C=vg;else{C=gg;var I=mg}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=yg);if(C&&(C=C(t,d))){gf(h,C,n,f);break e}I&&I(t,p,d),t==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&ys(p,"number",p.value)}switch(I=d?Nn(d):window,t){case"focusin":(Oa(I)||I.contentEditable==="true")&&(_n=I,ks=d,Co=null);break;case"focusout":Co=ks=_n=null;break;case"mousedown":Rs=!0;break;case"contextmenu":case"mouseup":case"dragend":Rs=!1,Xa(h,n,f);break;case"selectionchange":if(Sg)break;case"keydown":case"keyup":Xa(h,n,f)}var _;if(Fl)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Cn?hf(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(pf&&n.locale!=="ko"&&(Cn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Cn&&(_=ff()):(Gt=f,Dl="value"in Gt?Gt.value:Gt.textContent,Cn=!0)),I=Br(d,N),0<I.length&&(N=new Ba(N,t,null,n,f),h.push({event:N,listeners:I}),_?N.data=_:(_=mf(n),_!==null&&(N.data=_)))),(_=ug?cg(t,n):dg(t,n))&&(d=Br(d,"onBeforeInput"),0<d.length&&(f=new Ba("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=_))}Nf(h,e)})}function bo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Br(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Mo(t,n),i!=null&&o.unshift(bo(t,i,r)),i=Mo(t,e),i!=null&&o.push(bo(t,i,r))),t=t.return}return o}function wn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eu(t,e,n,o,r){for(var i=e._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=Mo(n,i),c!=null&&l.unshift(bo(n,c,u))):r||(c=Mo(n,i),c!=null&&l.push(bo(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var _g=/\r\n?/g,Ig=/\u0000|\uFFFD/g;function tu(t){return(typeof t=="string"?t:""+t).replace(_g,`
`).replace(Ig,"")}function ar(t,e,n){if(e=tu(e),tu(t)!==e&&n)throw Error(A(425))}function qr(){}var Ms=null,Ps=null;function Ds(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ls=typeof setTimeout=="function"?setTimeout:void 0,Ng=typeof clearTimeout=="function"?clearTimeout:void 0,nu=typeof Promise=="function"?Promise:void 0,Ag=typeof queueMicrotask=="function"?queueMicrotask:typeof nu<"u"?function(t){return nu.resolve(null).then(t).catch(kg)}:Ls;function kg(t){setTimeout(function(){throw t})}function Xi(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),Lo(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Lo(e)}function $t(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ou(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var eo=Math.random().toString(36).slice(2),yt="__reactFiber$"+eo,Go="__reactProps$"+eo,Nt="__reactContainer$"+eo,Us="__reactEvents$"+eo,Rg="__reactListeners$"+eo,Mg="__reactHandles$"+eo;function ln(t){var e=t[yt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nt]||n[yt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ou(t);t!==null;){if(n=t[yt])return n;t=ou(t)}return e}t=n,n=t.parentNode}return null}function Qo(t){return t=t[yt]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function gi(t){return t[Go]||null}var Fs=[],An=-1;function Zt(t){return{current:t}}function j(t){0>An||(t.current=Fs[An],Fs[An]=null,An--)}function X(t,e){An++,Fs[An]=t.current,t.current=e}var Qt={},Re=Zt(Qt),ze=Zt(!1),fn=Qt;function Jn(t,e){var n=t.type.contextTypes;if(!n)return Qt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Be(t){return t=t.childContextTypes,t!=null}function $r(){j(ze),j(Re)}function ru(t,e,n){if(Re.current!==Qt)throw Error(A(168));X(Re,e),X(ze,n)}function kf(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(A(108,mm(t)||"Unknown",r));return ie({},n,o)}function Jr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qt,fn=Re.current,X(Re,t),X(ze,ze.current),!0}function iu(t,e,n){var o=t.stateNode;if(!o)throw Error(A(169));n?(t=kf(t,e,fn),o.__reactInternalMemoizedMergedChildContext=t,j(ze),j(Re),X(Re,t)):j(ze),X(ze,n)}var Et=null,yi=!1,Zi=!1;function Rf(t){Et===null?Et=[t]:Et.push(t)}function Pg(t){yi=!0,Rf(t)}function jt(){if(!Zi&&Et!==null){Zi=!0;var t=0,e=Y;try{var n=Et;for(Y=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}Et=null,yi=!1}catch(r){throw Et!==null&&(Et=Et.slice(t+1)),ef(kl,jt),r}finally{Y=e,Zi=!1}}return null}var kn=[],Rn=0,Or=null,Wr=0,Qe=[],Xe=0,pn=null,Tt=1,Ct="";function on(t,e){kn[Rn++]=Wr,kn[Rn++]=Or,Or=t,Wr=e}function Mf(t,e,n){Qe[Xe++]=Tt,Qe[Xe++]=Ct,Qe[Xe++]=pn,pn=t;var o=Tt;t=Ct;var r=32-at(o)-1;o&=~(1<<r),n+=1;var i=32-at(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,Tt=1<<32-at(e)+r|n<<r|o,Ct=i+t}else Tt=1<<i|n<<r|o,Ct=t}function bl(t){t.return!==null&&(on(t,1),Mf(t,1,0))}function Gl(t){for(;t===Or;)Or=kn[--Rn],kn[Rn]=null,Wr=kn[--Rn],kn[Rn]=null;for(;t===pn;)pn=Qe[--Xe],Qe[Xe]=null,Ct=Qe[--Xe],Qe[Xe]=null,Tt=Qe[--Xe],Qe[Xe]=null}var Oe=null,Je=null,ne=!1,lt=null;function Pf(t,e){var n=Ze(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function su(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oe=t,Je=$t(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oe=t,Je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pn!==null?{id:Tt,overflow:Ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ze(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oe=t,Je=null,!0):!1;default:return!1}}function Vs(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bs(t){if(ne){var e=Je;if(e){var n=e;if(!su(t,e)){if(Vs(t))throw Error(A(418));e=$t(n.nextSibling);var o=Oe;e&&su(t,e)?Pf(o,n):(t.flags=t.flags&-4097|2,ne=!1,Oe=t)}}else{if(Vs(t))throw Error(A(418));t.flags=t.flags&-4097|2,ne=!1,Oe=t}}}function lu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oe=t}function ur(t){if(t!==Oe)return!1;if(!ne)return lu(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ds(t.type,t.memoizedProps)),e&&(e=Je)){if(Vs(t))throw Df(),Error(A(418));for(;e;)Pf(t,e),e=$t(e.nextSibling)}if(lu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Je=$t(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Je=null}}else Je=Oe?$t(t.stateNode.nextSibling):null;return!0}function Df(){for(var t=Je;t;)t=$t(t.nextSibling)}function On(){Je=Oe=null,ne=!1}function Hl(t){lt===null?lt=[t]:lt.push(t)}var Dg=Mt.ReactCurrentBatchConfig;function uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var o=n.stateNode}if(!o)throw Error(A(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function cr(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function au(t){var e=t._init;return e(t._payload)}function Lf(t){function e(y,v){if(t){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function o(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function r(y,v){return y=Kt(y,v),y.index=0,y.sibling=null,y}function i(y,v,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function u(y,v,x,T){return v===null||v.tag!==6?(v=is(x,y.mode,T),v.return=y,v):(v=r(v,x),v.return=y,v)}function c(y,v,x,T){var C=x.type;return C===Tn?f(y,v,x.props.children,T,x.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ut&&au(C)===v.type)?(T=r(v,x.props),T.ref=uo(y,v,x),T.return=y,T):(T=Mr(x.type,x.key,x.props,null,y.mode,T),T.ref=uo(y,v,x),T.return=y,T)}function d(y,v,x,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=ss(x,y.mode,T),v.return=y,v):(v=r(v,x.children||[]),v.return=y,v)}function f(y,v,x,T,C){return v===null||v.tag!==7?(v=dn(x,y.mode,T,C),v.return=y,v):(v=r(v,x),v.return=y,v)}function h(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=is(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jo:return x=Mr(v.type,v.key,v.props,null,y.mode,x),x.ref=uo(y,null,v),x.return=y,x;case En:return v=ss(v,y.mode,x),v.return=y,v;case Ut:var T=v._init;return h(y,T(v._payload),x)}if(go(v)||ro(v))return v=dn(v,y.mode,x,null),v.return=y,v;cr(y,v)}return null}function p(y,v,x,T){var C=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:u(y,v,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jo:return x.key===C?c(y,v,x,T):null;case En:return x.key===C?d(y,v,x,T):null;case Ut:return C=x._init,p(y,v,C(x._payload),T)}if(go(x)||ro(x))return C!==null?null:f(y,v,x,T,null);cr(y,x)}return null}function g(y,v,x,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(x)||null,u(v,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jo:return y=y.get(T.key===null?x:T.key)||null,c(v,y,T,C);case En:return y=y.get(T.key===null?x:T.key)||null,d(v,y,T,C);case Ut:var I=T._init;return g(y,v,x,I(T._payload),C)}if(go(T)||ro(T))return y=y.get(x)||null,f(v,y,T,C,null);cr(v,T)}return null}function w(y,v,x,T){for(var C=null,I=null,_=v,N=v=0,k=null;_!==null&&N<x.length;N++){_.index>N?(k=_,_=null):k=_.sibling;var R=p(y,_,x[N],T);if(R===null){_===null&&(_=k);break}t&&_&&R.alternate===null&&e(y,_),v=i(R,v,N),I===null?C=R:I.sibling=R,I=R,_=k}if(N===x.length)return n(y,_),ne&&on(y,N),C;if(_===null){for(;N<x.length;N++)_=h(y,x[N],T),_!==null&&(v=i(_,v,N),I===null?C=_:I.sibling=_,I=_);return ne&&on(y,N),C}for(_=o(y,_);N<x.length;N++)k=g(_,y,N,x[N],T),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?N:k.key),v=i(k,v,N),I===null?C=k:I.sibling=k,I=k);return t&&_.forEach(function(z){return e(y,z)}),ne&&on(y,N),C}function S(y,v,x,T){var C=ro(x);if(typeof C!="function")throw Error(A(150));if(x=C.call(x),x==null)throw Error(A(151));for(var I=C=null,_=v,N=v=0,k=null,R=x.next();_!==null&&!R.done;N++,R=x.next()){_.index>N?(k=_,_=null):k=_.sibling;var z=p(y,_,R.value,T);if(z===null){_===null&&(_=k);break}t&&_&&z.alternate===null&&e(y,_),v=i(z,v,N),I===null?C=z:I.sibling=z,I=z,_=k}if(R.done)return n(y,_),ne&&on(y,N),C;if(_===null){for(;!R.done;N++,R=x.next())R=h(y,R.value,T),R!==null&&(v=i(R,v,N),I===null?C=R:I.sibling=R,I=R);return ne&&on(y,N),C}for(_=o(y,_);!R.done;N++,R=x.next())R=g(_,y,N,R.value,T),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?N:R.key),v=i(R,v,N),I===null?C=R:I.sibling=R,I=R);return t&&_.forEach(function(J){return e(y,J)}),ne&&on(y,N),C}function E(y,v,x,T){if(typeof x=="object"&&x!==null&&x.type===Tn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case jo:e:{for(var C=x.key,I=v;I!==null;){if(I.key===C){if(C=x.type,C===Tn){if(I.tag===7){n(y,I.sibling),v=r(I,x.props.children),v.return=y,y=v;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ut&&au(C)===I.type){n(y,I.sibling),v=r(I,x.props),v.ref=uo(y,I,x),v.return=y,y=v;break e}n(y,I);break}else e(y,I);I=I.sibling}x.type===Tn?(v=dn(x.props.children,y.mode,T,x.key),v.return=y,y=v):(T=Mr(x.type,x.key,x.props,null,y.mode,T),T.ref=uo(y,v,x),T.return=y,y=T)}return l(y);case En:e:{for(I=x.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=r(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=ss(x,y.mode,T),v.return=y,y=v}return l(y);case Ut:return I=x._init,E(y,v,I(x._payload),T)}if(go(x))return w(y,v,x,T);if(ro(x))return S(y,v,x,T);cr(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=r(v,x),v.return=y,y=v):(n(y,v),v=is(x,y.mode,T),v.return=y,y=v),l(y)):n(y,v)}return E}var Wn=Lf(!0),Uf=Lf(!1),Kr=Zt(null),Yr=null,Mn=null,zl=null;function Bl(){zl=Mn=Yr=null}function ql(t){var e=Kr.current;j(Kr),t._currentValue=e}function Gs(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Hn(t,e){Yr=t,zl=Mn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function tt(t){var e=t._currentValue;if(zl!==t)if(t={context:t,memoizedValue:e,next:null},Mn===null){if(Yr===null)throw Error(A(308));Mn=t,Yr.dependencies={lanes:0,firstContext:t}}else Mn=Mn.next=t;return e}var an=null;function $l(t){an===null?an=[t]:an.push(t)}function Ff(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,$l(e)):(n.next=r.next,r.next=n),e.interleaved=n,At(t,o)}function At(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ft=!1;function Jl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jt(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,$&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,At(t,n)}return r=o.interleaved,r===null?(e.next=e,$l(o)):(e.next=r.next,r.next=e),o.interleaved=e,At(t,n)}function _r(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Rl(t,n)}}function uu(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qr(t,e,n,o){var r=t.updateQueue;Ft=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,g=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,S=u;switch(p=e,g=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=ie({},h,p);break e;case 2:Ft=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else g={eventTime:g,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=g,c=h):f=f.next=g,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);mn|=l,t.lanes=l,t.memoizedState=h}}function cu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(A(191,r));r.call(o)}}}var Xo={},xt=Zt(Xo),Ho=Zt(Xo),zo=Zt(Xo);function un(t){if(t===Xo)throw Error(A(174));return t}function Ol(t,e){switch(X(zo,e),X(Ho,t),X(xt,Xo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xs(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xs(e,t)}j(xt),X(xt,e)}function Kn(){j(xt),j(Ho),j(zo)}function bf(t){un(zo.current);var e=un(xt.current),n=xs(e,t.type);e!==n&&(X(Ho,t),X(xt,n))}function Wl(t){Ho.current===t&&(j(xt),j(Ho))}var oe=Zt(0);function Xr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ji=[];function Kl(){for(var t=0;t<ji.length;t++)ji[t]._workInProgressVersionPrimary=null;ji.length=0}var Ir=Mt.ReactCurrentDispatcher,es=Mt.ReactCurrentBatchConfig,hn=0,re=null,pe=null,me=null,Zr=!1,_o=!1,Bo=0,Lg=0;function Ie(){throw Error(A(321))}function Yl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ft(t[n],e[n]))return!1;return!0}function Ql(t,e,n,o,r,i){if(hn=i,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ir.current=t===null||t.memoizedState===null?bg:Gg,t=n(o,r),_o){i=0;do{if(_o=!1,Bo=0,25<=i)throw Error(A(301));i+=1,me=pe=null,e.updateQueue=null,Ir.current=Hg,t=n(o,r)}while(_o)}if(Ir.current=jr,e=pe!==null&&pe.next!==null,hn=0,me=pe=re=null,Zr=!1,e)throw Error(A(300));return t}function Xl(){var t=Bo!==0;return Bo=0,t}function gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?re.memoizedState=me=t:me=me.next=t,me}function nt(){if(pe===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=me===null?re.memoizedState:me.next;if(e!==null)me=e,pe=t;else{if(t===null)throw Error(A(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},me===null?re.memoizedState=me=t:me=me.next=t}return me}function qo(t,e){return typeof e=="function"?e(t):e}function ts(t){var e=nt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var o=pe,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((hn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:t(o,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=h,l=o):c=c.next=h,re.lanes|=f,mn|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,ft(o,e.memoizedState)||(He=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,re.lanes|=i,mn|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ns(t){var e=nt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);ft(i,e.memoizedState)||(He=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function Gf(){}function Hf(t,e){var n=re,o=nt(),r=e(),i=!ft(o.memoizedState,r);if(i&&(o.memoizedState=r,He=!0),o=o.queue,Zl(qf.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,$o(9,Bf.bind(null,n,o,r,e),void 0,null),ge===null)throw Error(A(349));hn&30||zf(n,e,r)}return r}function zf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bf(t,e,n,o){e.value=n,e.getSnapshot=o,$f(e)&&Jf(t)}function qf(t,e,n){return n(function(){$f(e)&&Jf(t)})}function $f(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ft(t,n)}catch{return!0}}function Jf(t){var e=At(t,1);e!==null&&ut(e,t,1,-1)}function du(t){var e=gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},e.queue=t,t=t.dispatch=Vg.bind(null,re,t),[e.memoizedState,t]}function $o(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function Of(){return nt().memoizedState}function Nr(t,e,n,o){var r=gt();re.flags|=t,r.memoizedState=$o(1|e,n,void 0,o===void 0?null:o)}function vi(t,e,n,o){var r=nt();o=o===void 0?null:o;var i=void 0;if(pe!==null){var l=pe.memoizedState;if(i=l.destroy,o!==null&&Yl(o,l.deps)){r.memoizedState=$o(e,n,i,o);return}}re.flags|=t,r.memoizedState=$o(1|e,n,i,o)}function fu(t,e){return Nr(8390656,8,t,e)}function Zl(t,e){return vi(2048,8,t,e)}function Wf(t,e){return vi(4,2,t,e)}function Kf(t,e){return vi(4,4,t,e)}function Yf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qf(t,e,n){return n=n!=null?n.concat([t]):null,vi(4,4,Yf.bind(null,e,t),n)}function jl(){}function Xf(t,e){var n=nt();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Yl(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Zf(t,e){var n=nt();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Yl(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function jf(t,e,n){return hn&21?(ft(n,e)||(n=of(),re.lanes|=n,mn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function Ug(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var o=es.transition;es.transition={};try{t(!1),e()}finally{Y=n,es.transition=o}}function ep(){return nt().memoizedState}function Fg(t,e,n){var o=Wt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},tp(t))np(e,n);else if(n=Ff(t,e,n,o),n!==null){var r=Ue();ut(n,t,o,r),op(n,e,o)}}function Vg(t,e,n){var o=Wt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(tp(t))np(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,ft(u,l)){var c=e.interleaved;c===null?(r.next=r,$l(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=Ff(t,e,r,o),n!==null&&(r=Ue(),ut(n,t,o,r),op(n,e,o))}}function tp(t){var e=t.alternate;return t===re||e!==null&&e===re}function np(t,e){_o=Zr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function op(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Rl(t,n)}}var jr={readContext:tt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},bg={readContext:tt,useCallback:function(t,e){return gt().memoizedState=[t,e===void 0?null:e],t},useContext:tt,useEffect:fu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Nr(4194308,4,Yf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Nr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nr(4,2,t,e)},useMemo:function(t,e){var n=gt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=gt();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=Fg.bind(null,re,t),[o.memoizedState,t]},useRef:function(t){var e=gt();return t={current:t},e.memoizedState=t},useState:du,useDebugValue:jl,useDeferredValue:function(t){return gt().memoizedState=t},useTransition:function(){var t=du(!1),e=t[0];return t=Ug.bind(null,t[1]),gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=re,r=gt();if(ne){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),ge===null)throw Error(A(349));hn&30||zf(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,fu(qf.bind(null,o,i,t),[t]),o.flags|=2048,$o(9,Bf.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=gt(),e=ge.identifierPrefix;if(ne){var n=Ct,o=Tt;n=(o&~(1<<32-at(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gg={readContext:tt,useCallback:Xf,useContext:tt,useEffect:Zl,useImperativeHandle:Qf,useInsertionEffect:Wf,useLayoutEffect:Kf,useMemo:Zf,useReducer:ts,useRef:Of,useState:function(){return ts(qo)},useDebugValue:jl,useDeferredValue:function(t){var e=nt();return jf(e,pe.memoizedState,t)},useTransition:function(){var t=ts(qo)[0],e=nt().memoizedState;return[t,e]},useMutableSource:Gf,useSyncExternalStore:Hf,useId:ep,unstable_isNewReconciler:!1},Hg={readContext:tt,useCallback:Xf,useContext:tt,useEffect:Zl,useImperativeHandle:Qf,useInsertionEffect:Wf,useLayoutEffect:Kf,useMemo:Zf,useReducer:ns,useRef:Of,useState:function(){return ns(qo)},useDebugValue:jl,useDeferredValue:function(t){var e=nt();return pe===null?e.memoizedState=t:jf(e,pe.memoizedState,t)},useTransition:function(){var t=ns(qo)[0],e=nt().memoizedState;return[t,e]},useMutableSource:Gf,useSyncExternalStore:Hf,useId:ep,unstable_isNewReconciler:!1};function it(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Hs(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xi={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Ue(),r=Wt(t),i=_t(o,r);i.payload=e,n!=null&&(i.callback=n),e=Jt(t,i,r),e!==null&&(ut(e,t,r,o),_r(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Ue(),r=Wt(t),i=_t(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Jt(t,i,r),e!==null&&(ut(e,t,r,o),_r(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ue(),o=Wt(t),r=_t(n,o);r.tag=2,e!=null&&(r.callback=e),e=Jt(t,r,o),e!==null&&(ut(e,t,o,n),_r(e,t,o))}};function pu(t,e,n,o,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!Fo(n,o)||!Fo(r,i):!0}function rp(t,e,n){var o=!1,r=Qt,i=e.contextType;return typeof i=="object"&&i!==null?i=tt(i):(r=Be(e)?fn:Re.current,o=e.contextTypes,i=(o=o!=null)?Jn(t,r):Qt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xi,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function hu(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&xi.enqueueReplaceState(e,e.state,null)}function zs(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Jl(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=tt(i):(i=Be(e)?fn:Re.current,r.context=Jn(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Hs(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&xi.enqueueReplaceState(r,r.state,null),Qr(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Yn(t,e){try{var n="",o=e;do n+=hm(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function os(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bs(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zg=typeof WeakMap=="function"?WeakMap:Map;function ip(t,e,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){ti||(ti=!0,Zs=o),Bs(t,e)},n}function sp(t,e,n){n=_t(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){Bs(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bs(t,e),typeof o!="function"&&(Ot===null?Ot=new Set([this]):Ot.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function mu(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new zg;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=t0.bind(null,t,e,n),e.then(t,t))}function gu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yu(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_t(-1,1),e.tag=2,Jt(n,e,1))),n.lanes|=1),t)}var Bg=Mt.ReactCurrentOwner,He=!1;function De(t,e,n,o){e.child=t===null?Uf(e,null,n,o):Wn(e,t.child,n,o)}function vu(t,e,n,o,r){n=n.render;var i=e.ref;return Hn(e,r),o=Ql(t,e,n,o,i,r),n=Xl(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,kt(t,e,r)):(ne&&n&&bl(e),e.flags|=1,De(t,e,o,r),e.child)}function xu(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!la(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,lp(t,e,i,o,r)):(t=Mr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(l,o)&&t.ref===e.ref)return kt(t,e,r)}return e.flags|=1,t=Kt(i,o),t.ref=e.ref,t.return=e,e.child=t}function lp(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(Fo(i,o)&&t.ref===e.ref)if(He=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,kt(t,e,r)}return qs(t,e,n,o,r)}function ap(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Dn,$e),$e|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Dn,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,X(Dn,$e),$e|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,X(Dn,$e),$e|=o;return De(t,e,r,n),e.child}function up(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qs(t,e,n,o,r){var i=Be(n)?fn:Re.current;return i=Jn(e,i),Hn(e,r),n=Ql(t,e,n,o,i,r),o=Xl(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,kt(t,e,r)):(ne&&o&&bl(e),e.flags|=1,De(t,e,n,r),e.child)}function wu(t,e,n,o,r){if(Be(n)){var i=!0;Jr(e)}else i=!1;if(Hn(e,r),e.stateNode===null)Ar(t,e),rp(e,n,o),zs(e,n,o,r),o=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=tt(d):(d=Be(n)?fn:Re.current,d=Jn(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&hu(e,l,o,d),Ft=!1;var p=e.memoizedState;l.state=p,Qr(e,o,l,r),c=e.memoizedState,u!==o||p!==c||ze.current||Ft?(typeof f=="function"&&(Hs(e,n,f,o),c=e.memoizedState),(u=Ft||pu(e,n,u,o,p,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,Vf(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:it(e.type,u),l.props=d,h=e.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=tt(c):(c=Be(n)?fn:Re.current,c=Jn(e,c));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==h||p!==c)&&hu(e,l,o,c),Ft=!1,p=e.memoizedState,l.state=p,Qr(e,o,l,r);var w=e.memoizedState;u!==h||p!==w||ze.current||Ft?(typeof g=="function"&&(Hs(e,n,g,o),w=e.memoizedState),(d=Ft||pu(e,n,d,o,p,w,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,w,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,w,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=w),l.props=o,l.state=w,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),o=!1)}return $s(t,e,n,o,i,r)}function $s(t,e,n,o,r,i){up(t,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&iu(e,n,!1),kt(t,e,i);o=e.stateNode,Bg.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&l?(e.child=Wn(e,t.child,null,i),e.child=Wn(e,null,u,i)):De(t,e,u,i),e.memoizedState=o.state,r&&iu(e,n,!0),e.child}function cp(t){var e=t.stateNode;e.pendingContext?ru(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ru(t,e.context,!1),Ol(t,e.containerInfo)}function Su(t,e,n,o,r){return On(),Hl(r),e.flags|=256,De(t,e,n,o),e.child}var Js={dehydrated:null,treeContext:null,retryLane:0};function Os(t){return{baseLanes:t,cachePool:null,transitions:null}}function dp(t,e,n){var o=e.pendingProps,r=oe.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),X(oe,r&1),t===null)return bs(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,t=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ei(l,o,0,null),t=dn(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Os(n),e.memoizedState=Js,t):ea(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return qg(t,e,l,o,u,r,n);if(i){i=o.fallback,l=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=Kt(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Kt(u,i):(i=dn(i,l,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=t.child.memoizedState,l=l===null?Os(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Js,o}return i=t.child,t=i.sibling,o=Kt(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function ea(t,e){return e=Ei({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dr(t,e,n,o){return o!==null&&Hl(o),Wn(e,t.child,null,n),t=ea(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qg(t,e,n,o,r,i,l){if(n)return e.flags&256?(e.flags&=-257,o=os(Error(A(422))),dr(t,e,l,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=Ei({mode:"visible",children:o.children},r,0,null),i=dn(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Wn(e,t.child,null,l),e.child.memoizedState=Os(l),e.memoizedState=Js,i);if(!(e.mode&1))return dr(t,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(A(419)),o=os(i,o,void 0),dr(t,e,l,o)}if(u=(l&t.childLanes)!==0,He||u){if(o=ge,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,At(t,r),ut(o,t,r,-1))}return sa(),o=os(Error(A(421))),dr(t,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=n0.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Je=$t(r.nextSibling),Oe=e,ne=!0,lt=null,t!==null&&(Qe[Xe++]=Tt,Qe[Xe++]=Ct,Qe[Xe++]=pn,Tt=t.id,Ct=t.overflow,pn=e),e=ea(e,o.children),e.flags|=4096,e)}function Eu(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Gs(t.return,e,n)}function rs(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function fp(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(De(t,e,o.children,n),o=oe.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eu(t,n,e);else if(t.tag===19)Eu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(X(oe,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Xr(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),rs(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Xr(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}rs(e,!0,n,null,i);break;case"together":rs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ar(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Kt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $g(t,e,n){switch(e.tag){case 3:cp(e),On();break;case 5:bf(e);break;case 1:Be(e.type)&&Jr(e);break;case 4:Ol(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;X(Kr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(X(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?dp(t,e,n):(X(oe,oe.current&1),t=kt(t,e,n),t!==null?t.sibling:null);X(oe,oe.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return fp(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),X(oe,oe.current),o)break;return null;case 22:case 23:return e.lanes=0,ap(t,e,n)}return kt(t,e,n)}var pp,Ws,hp,mp;pp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ws=function(){};hp=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,un(xt.current);var i=null;switch(n){case"input":r=ms(t,r),o=ms(t,o),i=[];break;case"select":r=ie({},r,{value:void 0}),o=ie({},o,{value:void 0}),i=[];break;case"textarea":r=vs(t,r),o=vs(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=qr)}ws(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ko.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ko.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Z("scroll",t),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};mp=function(t,e,n,o){n!==o&&(e.flags|=4)};function co(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function Jg(t,e,n){var o=e.pendingProps;switch(Gl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Be(e.type)&&$r(),Ne(e),null;case 3:return o=e.stateNode,Kn(),j(ze),j(Re),Kl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(ur(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lt!==null&&(tl(lt),lt=null))),Ws(t,e),Ne(e),null;case 5:Wl(e);var r=un(zo.current);if(n=e.type,t!==null&&e.stateNode!=null)hp(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(A(166));return Ne(e),null}if(t=un(xt.current),ur(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[yt]=e,o[Go]=i,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",o),Z("close",o);break;case"iframe":case"object":case"embed":Z("load",o);break;case"video":case"audio":for(r=0;r<vo.length;r++)Z(vo[r],o);break;case"source":Z("error",o);break;case"img":case"image":case"link":Z("error",o),Z("load",o);break;case"details":Z("toggle",o);break;case"input":Ma(o,i),Z("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Z("invalid",o);break;case"textarea":Da(o,i),Z("invalid",o)}ws(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&ar(o.textContent,u,t),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&ar(o.textContent,u,t),r=["children",""+u]):ko.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Z("scroll",o)}switch(n){case"input":er(o),Pa(o,i,!0);break;case"textarea":er(o),La(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=qr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),n==="select"&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[yt]=e,t[Go]=o,pp(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ss(n,o),n){case"dialog":Z("cancel",t),Z("close",t),r=o;break;case"iframe":case"object":case"embed":Z("load",t),r=o;break;case"video":case"audio":for(r=0;r<vo.length;r++)Z(vo[r],t);r=o;break;case"source":Z("error",t),r=o;break;case"img":case"image":case"link":Z("error",t),Z("load",t),r=o;break;case"details":Z("toggle",t),r=o;break;case"input":Ma(t,o),r=ms(t,o),Z("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=ie({},o,{value:void 0}),Z("invalid",t);break;case"textarea":Da(t,o),r=vs(t,o),Z("invalid",t);break;default:r=o}ws(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Jd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qd(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ro(t,c):typeof c=="number"&&Ro(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ko.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Z("scroll",t):c!=null&&Cl(t,i,c,l))}switch(n){case"input":er(t),Pa(t,o,!1);break;case"textarea":er(t),La(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Yt(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?Fn(t,!!o.multiple,i,!1):o.defaultValue!=null&&Fn(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=qr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)mp(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(A(166));if(n=un(zo.current),un(xt.current),ur(e)){if(o=e.stateNode,n=e.memoizedProps,o[yt]=e,(i=o.nodeValue!==n)&&(t=Oe,t!==null))switch(t.tag){case 3:ar(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ar(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[yt]=e,e.stateNode=o}return Ne(e),null;case 13:if(j(oe),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Je!==null&&e.mode&1&&!(e.flags&128))Df(),On(),e.flags|=98560,i=!1;else if(i=ur(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(A(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[yt]=e}else On(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),i=!1}else lt!==null&&(tl(lt),lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?he===0&&(he=3):sa())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return Kn(),Ws(t,e),t===null&&Vo(e.stateNode.containerInfo),Ne(e),null;case 10:return ql(e.type._context),Ne(e),null;case 17:return Be(e.type)&&$r(),Ne(e),null;case 19:if(j(oe),i=e.memoizedState,i===null)return Ne(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)co(i,!1);else{if(he!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Xr(t),l!==null){for(e.flags|=128,co(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(oe,oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>Qn&&(e.flags|=128,o=!0,co(i,!1),e.lanes=4194304)}else{if(!o)if(t=Xr(l),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ne)return Ne(e),null}else 2*ae()-i.renderingStartTime>Qn&&n!==1073741824&&(e.flags|=128,o=!0,co(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,n=oe.current,X(oe,o?n&1|2:n&1),e):(Ne(e),null);case 22:case 23:return ia(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?$e&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function Og(t,e){switch(Gl(e),e.tag){case 1:return Be(e.type)&&$r(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kn(),j(ze),j(Re),Kl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wl(e),null;case 13:if(j(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));On()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return j(oe),null;case 4:return Kn(),null;case 10:return ql(e.type._context),null;case 22:case 23:return ia(),null;case 24:return null;default:return null}}var fr=!1,Ae=!1,Wg=typeof WeakSet=="function"?WeakSet:Set,L=null;function Pn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){le(t,e,o)}else n.current=null}function Ks(t,e,n){try{n()}catch(o){le(t,e,o)}}var Tu=!1;function Kg(t,e){if(Ms=Hr,t=wf(),Vl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(u=l+r),h!==i||o!==0&&h.nodeType!==3||(c=l+o),h.nodeType===3&&(l+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ps={focusedElem:t,selectionRange:n},Hr=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,E=w.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:it(e.type,S),E);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(T){le(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return w=Tu,Tu=!1,w}function Io(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ks(e,n,i)}r=r.next}while(r!==o)}}function wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Ys(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gp(t){var e=t.alternate;e!==null&&(t.alternate=null,gp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yt],delete e[Go],delete e[Us],delete e[Rg],delete e[Mg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yp(t){return t.tag===5||t.tag===3||t.tag===4}function Cu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qr));else if(o!==4&&(t=t.child,t!==null))for(Qs(t,e,n),t=t.sibling;t!==null;)Qs(t,e,n),t=t.sibling}function Xs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Xs(t,e,n),t=t.sibling;t!==null;)Xs(t,e,n),t=t.sibling}var ve=null,st=!1;function Lt(t,e,n){for(n=n.child;n!==null;)vp(t,e,n),n=n.sibling}function vp(t,e,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(fi,n)}catch{}switch(n.tag){case 5:Ae||Pn(n,e);case 6:var o=ve,r=st;ve=null,Lt(t,e,n),ve=o,st=r,ve!==null&&(st?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(st?(t=ve,n=n.stateNode,t.nodeType===8?Xi(t.parentNode,n):t.nodeType===1&&Xi(t,n),Lo(t)):Xi(ve,n.stateNode));break;case 4:o=ve,r=st,ve=n.stateNode.containerInfo,st=!0,Lt(t,e,n),ve=o,st=r;break;case 0:case 11:case 14:case 15:if(!Ae&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ks(n,e,l),r=r.next}while(r!==o)}Lt(t,e,n);break;case 1:if(!Ae&&(Pn(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){le(n,e,u)}Lt(t,e,n);break;case 21:Lt(t,e,n);break;case 22:n.mode&1?(Ae=(o=Ae)||n.memoizedState!==null,Lt(t,e,n),Ae=o):Lt(t,e,n);break;default:Lt(t,e,n)}}function _u(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Wg),e.forEach(function(o){var r=o0.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function rt(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ve=u.stateNode,st=!1;break e;case 3:ve=u.stateNode.containerInfo,st=!0;break e;case 4:ve=u.stateNode.containerInfo,st=!0;break e}u=u.return}if(ve===null)throw Error(A(160));vp(i,l,r),ve=null,st=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){le(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xp(e,t),e=e.sibling}function xp(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rt(e,t),mt(t),o&4){try{Io(3,t,t.return),wi(3,t)}catch(S){le(t,t.return,S)}try{Io(5,t,t.return)}catch(S){le(t,t.return,S)}}break;case 1:rt(e,t),mt(t),o&512&&n!==null&&Pn(n,n.return);break;case 5:if(rt(e,t),mt(t),o&512&&n!==null&&Pn(n,n.return),t.flags&32){var r=t.stateNode;try{Ro(r,"")}catch(S){le(t,t.return,S)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Hd(r,i),Ss(u,l);var d=Ss(u,i);for(l=0;l<c.length;l+=2){var f=c[l],h=c[l+1];f==="style"?Jd(r,h):f==="dangerouslySetInnerHTML"?qd(r,h):f==="children"?Ro(r,h):Cl(r,f,h,d)}switch(u){case"input":gs(r,i);break;case"textarea":zd(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Fn(r,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fn(r,!!i.multiple,i.defaultValue,!0):Fn(r,!!i.multiple,i.multiple?[]:"",!1))}r[Go]=i}catch(S){le(t,t.return,S)}}break;case 6:if(rt(e,t),mt(t),o&4){if(t.stateNode===null)throw Error(A(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(S){le(t,t.return,S)}}break;case 3:if(rt(e,t),mt(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(e.containerInfo)}catch(S){le(t,t.return,S)}break;case 4:rt(e,t),mt(t);break;case 13:rt(e,t),mt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(oa=ae())),o&4&&_u(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(d=Ae)||f,rt(e,t),Ae=d):rt(e,t),mt(t),o&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(L=t,f=t.child;f!==null;){for(h=L=f;L!==null;){switch(p=L,g=p.child,p.tag){case 0:case 11:case 14:case 15:Io(4,p,p.return);break;case 1:Pn(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){o=p,n=p.return;try{e=o,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(S){le(o,n,S)}}break;case 5:Pn(p,p.return);break;case 22:if(p.memoizedState!==null){Nu(h);continue}}g!==null?(g.return=p,L=g):Nu(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=$d("display",l))}catch(S){le(t,t.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(S){le(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rt(e,t),mt(t),o&4&&_u(t);break;case 21:break;default:rt(e,t),mt(t)}}function mt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yp(n)){var o=n;break e}n=n.return}throw Error(A(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Ro(r,""),o.flags&=-33);var i=Cu(t);Xs(t,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Cu(t);Qs(t,u,l);break;default:throw Error(A(161))}}catch(c){le(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yg(t,e,n){L=t,wp(t)}function wp(t,e,n){for(var o=(t.mode&1)!==0;L!==null;){var r=L,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||fr;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||Ae;u=fr;var d=Ae;if(fr=l,(Ae=c)&&!d)for(L=r;L!==null;)l=L,c=l.child,l.tag===22&&l.memoizedState!==null?Au(r):c!==null?(c.return=l,L=c):Au(r);for(;i!==null;)L=i,wp(i),i=i.sibling;L=r,fr=u,Ae=d}Iu(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,L=i):Iu(t)}}function Iu(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||wi(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Ae)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:it(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cu(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cu(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Lo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ae||e.flags&512&&Ys(e)}catch(p){le(e,e.return,p)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Nu(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Au(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wi(4,e)}catch(c){le(e,n,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(c){le(e,r,c)}}var i=e.return;try{Ys(e)}catch(c){le(e,i,c)}break;case 5:var l=e.return;try{Ys(e)}catch(c){le(e,l,c)}}}catch(c){le(e,e.return,c)}if(e===t){L=null;break}var u=e.sibling;if(u!==null){u.return=e.return,L=u;break}L=e.return}}var Qg=Math.ceil,ei=Mt.ReactCurrentDispatcher,ta=Mt.ReactCurrentOwner,je=Mt.ReactCurrentBatchConfig,$=0,ge=null,ce=null,xe=0,$e=0,Dn=Zt(0),he=0,Jo=null,mn=0,Si=0,na=0,No=null,Ge=null,oa=0,Qn=1/0,St=null,ti=!1,Zs=null,Ot=null,pr=!1,Ht=null,ni=0,Ao=0,js=null,kr=-1,Rr=0;function Ue(){return $&6?ae():kr!==-1?kr:kr=ae()}function Wt(t){return t.mode&1?$&2&&xe!==0?xe&-xe:Dg.transition!==null?(Rr===0&&(Rr=of()),Rr):(t=Y,t!==0||(t=window.event,t=t===void 0?16:df(t.type)),t):1}function ut(t,e,n,o){if(50<Ao)throw Ao=0,js=null,Error(A(185));Ko(t,n,o),(!($&2)||t!==ge)&&(t===ge&&(!($&2)&&(Si|=n),he===4&&bt(t,xe)),qe(t,o),n===1&&$===0&&!(e.mode&1)&&(Qn=ae()+500,yi&&jt()))}function qe(t,e){var n=t.callbackNode;Dm(t,e);var o=Gr(t,t===ge?xe:0);if(o===0)n!==null&&Va(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&Va(n),e===1)t.tag===0?Pg(ku.bind(null,t)):Rf(ku.bind(null,t)),Ag(function(){!($&6)&&jt()}),n=null;else{switch(rf(o)){case 1:n=kl;break;case 4:n=tf;break;case 16:n=br;break;case 536870912:n=nf;break;default:n=br}n=Ap(n,Sp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sp(t,e){if(kr=-1,Rr=0,$&6)throw Error(A(327));var n=t.callbackNode;if(zn()&&t.callbackNode!==n)return null;var o=Gr(t,t===ge?xe:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=oi(t,o);else{e=o;var r=$;$|=2;var i=Tp();(ge!==t||xe!==e)&&(St=null,Qn=ae()+500,cn(t,e));do try{jg();break}catch(u){Ep(t,u)}while(!0);Bl(),ei.current=i,$=r,ce!==null?e=0:(ge=null,xe=0,e=he)}if(e!==0){if(e===2&&(r=Is(t),r!==0&&(o=r,e=el(t,r))),e===1)throw n=Jo,cn(t,0),bt(t,o),qe(t,ae()),n;if(e===6)bt(t,o);else{if(r=t.current.alternate,!(o&30)&&!Xg(r)&&(e=oi(t,o),e===2&&(i=Is(t),i!==0&&(o=i,e=el(t,i))),e===1))throw n=Jo,cn(t,0),bt(t,o),qe(t,ae()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(A(345));case 2:rn(t,Ge,St);break;case 3:if(bt(t,o),(o&130023424)===o&&(e=oa+500-ae(),10<e)){if(Gr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Ue(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ls(rn.bind(null,t,Ge,St),e);break}rn(t,Ge,St);break;case 4:if(bt(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var l=31-at(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=ae()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Qg(o/1960))-o,10<o){t.timeoutHandle=Ls(rn.bind(null,t,Ge,St),o);break}rn(t,Ge,St);break;case 5:rn(t,Ge,St);break;default:throw Error(A(329))}}}return qe(t,ae()),t.callbackNode===n?Sp.bind(null,t):null}function el(t,e){var n=No;return t.current.memoizedState.isDehydrated&&(cn(t,e).flags|=256),t=oi(t,e),t!==2&&(e=Ge,Ge=n,e!==null&&tl(e)),t}function tl(t){Ge===null?Ge=t:Ge.push.apply(Ge,t)}function Xg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!ft(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bt(t,e){for(e&=~na,e&=~Si,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-at(e),o=1<<n;t[n]=-1,e&=~o}}function ku(t){if($&6)throw Error(A(327));zn();var e=Gr(t,0);if(!(e&1))return qe(t,ae()),null;var n=oi(t,e);if(t.tag!==0&&n===2){var o=Is(t);o!==0&&(e=o,n=el(t,o))}if(n===1)throw n=Jo,cn(t,0),bt(t,e),qe(t,ae()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rn(t,Ge,St),qe(t,ae()),null}function ra(t,e){var n=$;$|=1;try{return t(e)}finally{$=n,$===0&&(Qn=ae()+500,yi&&jt())}}function gn(t){Ht!==null&&Ht.tag===0&&!($&6)&&zn();var e=$;$|=1;var n=je.transition,o=Y;try{if(je.transition=null,Y=1,t)return t()}finally{Y=o,je.transition=n,$=e,!($&6)&&jt()}}function ia(){$e=Dn.current,j(Dn)}function cn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ng(n)),ce!==null)for(n=ce.return;n!==null;){var o=n;switch(Gl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&$r();break;case 3:Kn(),j(ze),j(Re),Kl();break;case 5:Wl(o);break;case 4:Kn();break;case 13:j(oe);break;case 19:j(oe);break;case 10:ql(o.type._context);break;case 22:case 23:ia()}n=n.return}if(ge=t,ce=t=Kt(t.current,null),xe=$e=e,he=0,Jo=null,na=Si=mn=0,Ge=No=null,an!==null){for(e=0;e<an.length;e++)if(n=an[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}an=null}return t}function Ep(t,e){do{var n=ce;try{if(Bl(),Ir.current=jr,Zr){for(var o=re.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Zr=!1}if(hn=0,me=pe=re=null,_o=!1,Bo=0,ta.current=null,n===null||n.return===null){he=1,Jo=e,ce=null;break}e:{var i=t,l=n.return,u=n,c=e;if(e=xe,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=gu(l);if(g!==null){g.flags&=-257,yu(g,l,u,i,e),g.mode&1&&mu(i,d,e),e=g,c=d;var w=e.updateQueue;if(w===null){var S=new Set;S.add(c),e.updateQueue=S}else w.add(c);break e}else{if(!(e&1)){mu(i,d,e),sa();break e}c=Error(A(426))}}else if(ne&&u.mode&1){var E=gu(l);if(E!==null){!(E.flags&65536)&&(E.flags|=256),yu(E,l,u,i,e),Hl(Yn(c,u));break e}}i=c=Yn(c,u),he!==4&&(he=2),No===null?No=[i]:No.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=ip(i,c,e);uu(i,y);break e;case 1:u=c;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ot===null||!Ot.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=sp(i,u,e);uu(i,T);break e}}i=i.return}while(i!==null)}_p(n)}catch(C){e=C,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Tp(){var t=ei.current;return ei.current=jr,t===null?jr:t}function sa(){(he===0||he===3||he===2)&&(he=4),ge===null||!(mn&268435455)&&!(Si&268435455)||bt(ge,xe)}function oi(t,e){var n=$;$|=2;var o=Tp();(ge!==t||xe!==e)&&(St=null,cn(t,e));do try{Zg();break}catch(r){Ep(t,r)}while(!0);if(Bl(),$=n,ei.current=o,ce!==null)throw Error(A(261));return ge=null,xe=0,he}function Zg(){for(;ce!==null;)Cp(ce)}function jg(){for(;ce!==null&&!Cm();)Cp(ce)}function Cp(t){var e=Np(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?_p(t):ce=e,ta.current=null}function _p(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Og(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{he=6,ce=null;return}}else if(n=Jg(n,e,$e),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);he===0&&(he=5)}function rn(t,e,n){var o=Y,r=je.transition;try{je.transition=null,Y=1,e0(t,e,n,o)}finally{je.transition=r,Y=o}return null}function e0(t,e,n,o){do zn();while(Ht!==null);if($&6)throw Error(A(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lm(t,i),t===ge&&(ce=ge=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pr||(pr=!0,Ap(br,function(){return zn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=je.transition,je.transition=null;var l=Y;Y=1;var u=$;$|=4,ta.current=null,Kg(t,n),xp(n,t),wg(Ps),Hr=!!Ms,Ps=Ms=null,t.current=n,Yg(n),_m(),$=u,Y=l,je.transition=i}else t.current=n;if(pr&&(pr=!1,Ht=t,ni=r),i=t.pendingLanes,i===0&&(Ot=null),Am(n.stateNode),qe(t,ae()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(ti)throw ti=!1,t=Zs,Zs=null,t;return ni&1&&t.tag!==0&&zn(),i=t.pendingLanes,i&1?t===js?Ao++:(Ao=0,js=t):Ao=0,jt(),null}function zn(){if(Ht!==null){var t=rf(ni),e=je.transition,n=Y;try{if(je.transition=null,Y=16>t?16:t,Ht===null)var o=!1;else{if(t=Ht,Ht=null,ni=0,$&6)throw Error(A(331));var r=$;for($|=4,L=t.current;L!==null;){var i=L,l=i.child;if(L.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(L=d;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:Io(8,f,i)}var h=f.child;if(h!==null)h.return=f,L=h;else for(;L!==null;){f=L;var p=f.sibling,g=f.return;if(gp(f),f===d){L=null;break}if(p!==null){p.return=g,L=p;break}L=g}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}L=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,L=l;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Io(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,L=y;break e}L=i.return}}var v=t.current;for(L=v;L!==null;){l=L;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,L=x;else e:for(l=v;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:wi(9,u)}}catch(C){le(u,u.return,C)}if(u===l){L=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,L=T;break e}L=u.return}}if($=r,jt(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(fi,t)}catch{}o=!0}return o}finally{Y=n,je.transition=e}}return!1}function Ru(t,e,n){e=Yn(n,e),e=ip(t,e,1),t=Jt(t,e,1),e=Ue(),t!==null&&(Ko(t,1,e),qe(t,e))}function le(t,e,n){if(t.tag===3)Ru(t,t,n);else for(;e!==null;){if(e.tag===3){Ru(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ot===null||!Ot.has(o))){t=Yn(n,t),t=sp(e,t,1),e=Jt(e,t,1),t=Ue(),e!==null&&(Ko(e,1,t),qe(e,t));break}}e=e.return}}function t0(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Ue(),t.pingedLanes|=t.suspendedLanes&n,ge===t&&(xe&n)===n&&(he===4||he===3&&(xe&130023424)===xe&&500>ae()-oa?cn(t,0):na|=n),qe(t,e)}function Ip(t,e){e===0&&(t.mode&1?(e=or,or<<=1,!(or&130023424)&&(or=4194304)):e=1);var n=Ue();t=At(t,e),t!==null&&(Ko(t,e,n),qe(t,n))}function n0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ip(t,n)}function o0(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(A(314))}o!==null&&o.delete(e),Ip(t,n)}var Np;Np=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ze.current)He=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return He=!1,$g(t,e,n);He=!!(t.flags&131072)}else He=!1,ne&&e.flags&1048576&&Mf(e,Wr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Ar(t,e),t=e.pendingProps;var r=Jn(e,Re.current);Hn(e,n),r=Ql(null,e,o,t,r,n);var i=Xl();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(o)?(i=!0,Jr(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Jl(e),r.updater=xi,e.stateNode=r,r._reactInternals=e,zs(e,o,t,n),e=$s(null,e,o,!0,i,n)):(e.tag=0,ne&&i&&bl(e),De(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Ar(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=i0(o),t=it(o,t),r){case 0:e=qs(null,e,o,t,n);break e;case 1:e=wu(null,e,o,t,n);break e;case 11:e=vu(null,e,o,t,n);break e;case 14:e=xu(null,e,o,it(o.type,t),n);break e}throw Error(A(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:it(o,r),qs(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:it(o,r),wu(t,e,o,r,n);case 3:e:{if(cp(e),t===null)throw Error(A(387));o=e.pendingProps,i=e.memoizedState,r=i.element,Vf(t,e),Qr(e,o,null,n);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Yn(Error(A(423)),e),e=Su(t,e,o,n,r);break e}else if(o!==r){r=Yn(Error(A(424)),e),e=Su(t,e,o,n,r);break e}else for(Je=$t(e.stateNode.containerInfo.firstChild),Oe=e,ne=!0,lt=null,n=Uf(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(On(),o===r){e=kt(t,e,n);break e}De(t,e,o,n)}e=e.child}return e;case 5:return bf(e),t===null&&bs(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,l=r.children,Ds(o,r)?l=null:i!==null&&Ds(o,i)&&(e.flags|=32),up(t,e),De(t,e,l,n),e.child;case 6:return t===null&&bs(e),null;case 13:return dp(t,e,n);case 4:return Ol(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Wn(e,null,o,n):De(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:it(o,r),vu(t,e,o,r,n);case 7:return De(t,e,e.pendingProps,n),e.child;case 8:return De(t,e,e.pendingProps.children,n),e.child;case 12:return De(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,X(Kr,o._currentValue),o._currentValue=l,i!==null)if(ft(i.value,l)){if(i.children===r.children&&!ze.current){e=kt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=_t(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Gs(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(A(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Gs(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}De(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Hn(e,n),r=tt(r),o=o(r),e.flags|=1,De(t,e,o,n),e.child;case 14:return o=e.type,r=it(o,e.pendingProps),r=it(o.type,r),xu(t,e,o,r,n);case 15:return lp(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:it(o,r),Ar(t,e),e.tag=1,Be(o)?(t=!0,Jr(e)):t=!1,Hn(e,n),rp(e,o,r),zs(e,o,r,n),$s(null,e,o,!0,t,n);case 19:return fp(t,e,n);case 22:return ap(t,e,n)}throw Error(A(156,e.tag))};function Ap(t,e){return ef(t,e)}function r0(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ze(t,e,n,o){return new r0(t,e,n,o)}function la(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i0(t){if(typeof t=="function")return la(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Il)return 11;if(t===Nl)return 14}return 2}function Kt(t,e){var n=t.alternate;return n===null?(n=Ze(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mr(t,e,n,o,r,i){var l=2;if(o=t,typeof t=="function")la(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Tn:return dn(n.children,r,i,e);case _l:l=8,r|=8;break;case ds:return t=Ze(12,n,e,r|2),t.elementType=ds,t.lanes=i,t;case fs:return t=Ze(13,n,e,r),t.elementType=fs,t.lanes=i,t;case ps:return t=Ze(19,n,e,r),t.elementType=ps,t.lanes=i,t;case Vd:return Ei(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ud:l=10;break e;case Fd:l=9;break e;case Il:l=11;break e;case Nl:l=14;break e;case Ut:l=16,o=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Ze(l,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function dn(t,e,n,o){return t=Ze(7,t,o,e),t.lanes=n,t}function Ei(t,e,n,o){return t=Ze(22,t,o,e),t.elementType=Vd,t.lanes=n,t.stateNode={isHidden:!1},t}function is(t,e,n){return t=Ze(6,t,null,e),t.lanes=n,t}function ss(t,e,n){return e=Ze(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function s0(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function aa(t,e,n,o,r,i,l,u,c){return t=new s0(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ze(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jl(i),t}function l0(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:En,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function kp(t){if(!t)return Qt;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(Be(n))return kf(t,n,e)}return e}function Rp(t,e,n,o,r,i,l,u,c){return t=aa(n,o,!0,t,r,i,l,u,c),t.context=kp(null),n=t.current,o=Ue(),r=Wt(n),i=_t(o,r),i.callback=e??null,Jt(n,i,r),t.current.lanes=r,Ko(t,r,o),qe(t,o),t}function Ti(t,e,n,o){var r=e.current,i=Ue(),l=Wt(r);return n=kp(n),e.context===null?e.context=n:e.pendingContext=n,e=_t(i,l),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Jt(r,e,l),t!==null&&(ut(t,r,l,i),_r(t,r,l)),l}function ri(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ua(t,e){Mu(t,e),(t=t.alternate)&&Mu(t,e)}function a0(){return null}var Mp=typeof reportError=="function"?reportError:function(t){console.error(t)};function ca(t){this._internalRoot=t}Ci.prototype.render=ca.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Ti(t,e,null,null)};Ci.prototype.unmount=ca.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gn(function(){Ti(null,t,null,null)}),e[Nt]=null}};function Ci(t){this._internalRoot=t}Ci.prototype.unstable_scheduleHydration=function(t){if(t){var e=af();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vt.length&&e!==0&&e<Vt[n].priority;n++);Vt.splice(n,0,t),n===0&&cf(t)}};function da(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _i(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pu(){}function u0(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=ri(l);i.call(d)}}var l=Rp(e,o,t,0,null,!1,!1,"",Pu);return t._reactRootContainer=l,t[Nt]=l.current,Vo(t.nodeType===8?t.parentNode:t),gn(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=ri(c);u.call(d)}}var c=aa(t,0,!1,null,null,!1,!1,"",Pu);return t._reactRootContainer=c,t[Nt]=c.current,Vo(t.nodeType===8?t.parentNode:t),gn(function(){Ti(e,c,n,o)}),c}function Ii(t,e,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=ri(l);u.call(c)}}Ti(e,l,t,r)}else l=u0(n,e,t,r,o);return ri(l)}sf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yo(e.pendingLanes);n!==0&&(Rl(e,n|1),qe(e,ae()),!($&6)&&(Qn=ae()+500,jt()))}break;case 13:gn(function(){var o=At(t,1);if(o!==null){var r=Ue();ut(o,t,1,r)}}),ua(t,1)}};Ml=function(t){if(t.tag===13){var e=At(t,134217728);if(e!==null){var n=Ue();ut(e,t,134217728,n)}ua(t,134217728)}};lf=function(t){if(t.tag===13){var e=Wt(t),n=At(t,e);if(n!==null){var o=Ue();ut(n,t,e,o)}ua(t,e)}};af=function(){return Y};uf=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};Ts=function(t,e,n){switch(e){case"input":if(gs(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=gi(o);if(!r)throw Error(A(90));Gd(o),gs(o,r)}}}break;case"textarea":zd(t,n);break;case"select":e=n.value,e!=null&&Fn(t,!!n.multiple,e,!1)}};Kd=ra;Yd=gn;var c0={usingClientEntryPoint:!1,Events:[Qo,Nn,gi,Od,Wd,ra]},fo={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d0={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zd(t),t===null?null:t.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||a0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hr.isDisabled&&hr.supportsFiber)try{fi=hr.inject(d0),vt=hr}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0;Ke.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!da(e))throw Error(A(200));return l0(t,e,null,n)};Ke.createRoot=function(t,e){if(!da(t))throw Error(A(299));var n=!1,o="",r=Mp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=aa(t,1,!1,null,null,n,!1,o,r),t[Nt]=e.current,Vo(t.nodeType===8?t.parentNode:t),new ca(e)};Ke.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=Zd(e),t=t===null?null:t.stateNode,t};Ke.flushSync=function(t){return gn(t)};Ke.hydrate=function(t,e,n){if(!_i(e))throw Error(A(200));return Ii(null,t,e,!0,n)};Ke.hydrateRoot=function(t,e,n){if(!da(t))throw Error(A(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=Mp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Rp(e,null,t,1,n??null,r,!1,i,l),t[Nt]=e.current,Vo(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ci(e)};Ke.render=function(t,e,n){if(!_i(e))throw Error(A(200));return Ii(null,t,e,!1,n)};Ke.unmountComponentAtNode=function(t){if(!_i(t))throw Error(A(40));return t._reactRootContainer?(gn(function(){Ii(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};Ke.unstable_batchedUpdates=ra;Ke.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!_i(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return Ii(t,e,n,!1,o)};Ke.version="18.3.1-next-f1338f8080-20240426";function Pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pp)}catch(t){console.error(t)}}Pp(),Md.exports=Ke;var f0=Md.exports,Du=f0;us.createRoot=Du.createRoot,us.hydrateRoot=Du.hydrateRoot;const Lu={math:{easy:[],medium:[],hard:[]},english:{easy:[],medium:[],hard:[]}},p0={easy:{numQuestions:10,timePerQ:60},medium:{numQuestions:15,timePerQ:45},hard:{numQuestions:20,timePerQ:30}},Uu=[{category:"Official HQ Resources",links:[{title:"Bluebook Testing App (Required)",url:"https://bluebook.collegeboard.org/"},{title:"College Board  SAT Suite",url:"https://satsuite.collegeboard.org/sat"},{title:"Khan Academy  Official SAT Prep",url:"https://www.khanacademy.org/test-prep/sat"},{title:"Full-Length Practice Tests",url:"https://satsuite.collegeboard.org/sat/practice-preparation/practice-tests"}]},{category:"Math: Mastery",links:[{title:"Desmos  Graphing Calculator",url:"https://www.desmos.com/calculator"},{title:"Math is Fun  Algebra Index",url:"https://www.mathsisfun.com/algebra/index.html"},{title:"Wolfram  Probability Concepts",url:"https://mathworld.wolfram.com/Probability.html"}]},{category:"English: Mastery",links:[{title:"Purdue OWL  Grammar Rules",url:"https://owl.purdue.edu/owl/general_writing/grammar/index.html"},{title:"Grammarly Blog  Tips",url:"https://www.grammarly.com/blog/"},{title:"Vocabulary.com",url:"https://www.vocabulary.com/"}]}],Fu=[{category:"Digital Format Mastery",icon:"Monitor",tips:["Master the built-in tools: 'Mark for Review', 'Strikethrough', and the 'Reference Sheet'.","The test is adaptive. A harder second module means you did well in the first.","There is no penalty for guessing. Never leave a blank answer.","Master Desmos shortcuts like typing 'sqrt' or using the exponent hotkey '^'."]},{category:"Math: Strategy",icon:"Brain",tips:["Backsolving: Plug the answer choices into the question, starting with C.","Picking Numbers: Replace abstract variables with small integers like 2 or 3.","Figures are not always to scale, but close. Use visual estimation to cull options.","Memorize 30-60-90 and 45-45-90 triangle properties."]},{category:"English: Tactics",icon:"PenTool",tips:["Read the question stem BEFORE the passage to know what to look for.","Beware of extreme language: 'always', 'never', 'only' are usually wrong.","Shorter is often better. Conciseness is a hallmark of correct SAT writing answers.","Read the sentences before and after a transition word to confirm the logic."]}],h0=()=>m.jsxs("div",{className:"fixed inset-0 w-full h-full -z-10 overflow-hidden pointer-events-none bg-gray-950",children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-indigo-950/40 via-gray-950 to-gray-950"}),m.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[40rem] h-[40rem] bg-indigo-600/20 rounded-full mix-blend-screen filter blur-[100px] animate-blob opacity-60 will-change-transform"}),m.jsx("div",{className:"absolute top-[20%] right-[-15%] w-[35rem] h-[35rem] bg-purple-600/20 rounded-full mix-blend-screen filter blur-[100px] animate-blob animation-delay-2000 opacity-60 will-change-transform"}),m.jsx("div",{className:"absolute bottom-[-20%] left-[30%] w-[45rem] h-[45rem] bg-blue-600/10 rounded-full mix-blend-screen filter blur-[120px] animate-blob animation-delay-4000 opacity-50 will-change-transform"}),m.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03] mix-blend-overlay contrast-150"}),m.jsx("div",{className:"absolute top-1/4 left-1/4 w-1 h-1 bg-white rounded-full opacity-20 animate-float will-change-transform"}),m.jsx("div",{className:"absolute top-3/4 left-2/3 w-1.5 h-1.5 bg-indigo-300 rounded-full opacity-10 animate-float animation-delay-2000 will-change-transform"}),m.jsx("div",{className:"absolute top-1/2 right-1/4 w-1 h-1 bg-purple-300 rounded-full opacity-15 animate-float animation-delay-4000 will-change-transform"})]});/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dp=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:r="",children:i,iconNode:l,...u},c)=>D.createElement("svg",{ref:c,...g0,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:Dp("lucide",r),...u},[...l.map(([d,f])=>D.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(t,e)=>{const n=D.forwardRef(({className:o,...r},i)=>D.createElement(y0,{ref:i,iconNode:e,className:Dp(`lucide-${m0(t)}`,o),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=U("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=U("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=U("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=U("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=U("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=U("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=U("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=U("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=U("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=U("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=U("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=U("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=U("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=U("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=U("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=U("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=U("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=U("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=U("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=U("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=U("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=U("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=U("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=U("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=U("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=U("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=U("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=U("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=U("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=U("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=U("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=U("Scaling",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M14 15H9v-5",key:"pi4jk9"}],["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M21 3 9 15",key:"15kdhq"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=U("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=U("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=U("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=U("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=U("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=U("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=U("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.458.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=U("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),O0=({onStart:t,onDaily:e,onSettings:n,onOpenBank:o,toggleFullscreen:r,isFullscreen:i,streak:l,stats:u})=>{const[c,d]=D.useState("math"),[f,h]=D.useState("easy"),[p,g]=D.useState("timed"),w=l.lastDate===new Date().toDateString(),S=u.totalScore||0,E=Math.floor(Math.sqrt(S/100))+1,y=Math.pow(E-1,2)*100,v=Math.pow(E,2)*100,x=(S-y)/(v-y)*100,T=Math.min(100,Math.max(0,isNaN(x)?0:x)),I=(N=>N>=50?"Grandmaster":N>=30?"Legend":N>=20?"Elite":N>=10?"Scholar":N>=5?"Apprentice":"Novice")(E),_=Array.from({length:7},(N,k)=>{const R=new Date;return R.setDate(R.getDate()-(6-k)),{day:R.toLocaleDateString("en-US",{weekday:"narrow"}),active:l.history?l.history[6-k]:!1}});return m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4 py-6 relative z-10 selection:bg-indigo-500/30",children:[m.jsxs("div",{className:"fixed top-0 left-0 right-0 p-6 flex justify-between items-start z-50 pointer-events-none",children:[m.jsxs("div",{className:"pointer-events-auto flex items-center gap-4 bg-black/40 backdrop-blur-md border border-white/10 p-2 pr-6 rounded-full animate-slide-in-right shadow-lg",children:[m.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center bg-indigo-500/20 rounded-full border border-indigo-500/30",children:[m.jsx($p,{className:"w-5 h-5 text-indigo-300"}),m.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",children:[m.jsx("circle",{cx:"24",cy:"24",r:"23",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"2"}),m.jsx("circle",{cx:"24",cy:"24",r:"23",fill:"none",stroke:"#818cf8",strokeWidth:"2",strokeDasharray:144.5,strokeDashoffset:144.5-144.5*T/100,strokeLinecap:"round"})]})]}),m.jsxs("div",{className:"flex flex-col",children:[m.jsxs("span",{className:"text-[10px] font-bold text-indigo-300 uppercase tracking-widest",children:["Lvl ",E," ",I]}),m.jsxs("span",{className:"text-xs text-white/60 font-medium",children:[Math.floor(S)," XP"]})]})]}),m.jsxs("div",{className:"flex gap-3 pointer-events-auto",children:[m.jsx("button",{onClick:r,className:"md:hidden p-3 bg-black/40 hover:bg-white/10 backdrop-blur-md rounded-full border border-white/10 transition-colors group",children:i?m.jsx(Bp,{className:"w-5 h-5 text-white/60"}):m.jsx(zp,{className:"w-5 h-5 text-white/60"})}),m.jsx("button",{onClick:n,className:"p-3 bg-black/40 hover:bg-white/10 backdrop-blur-md rounded-full border border-white/10 transition-colors group",children:m.jsx(G0,{className:"w-5 h-5 text-white/60 group-hover:text-white group-hover:rotate-90 transition-all"})})]})]}),m.jsxs("div",{className:"w-full max-w-xl space-y-8 animate-slide-up",children:[m.jsxs("div",{className:"text-center space-y-2 mt-10",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs font-bold uppercase tracking-widest mb-4",children:[m.jsx(nl,{className:"w-3 h-3"})," SAT Prep Redefined"]}),m.jsx("h1",{className:"text-7xl md:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white via-white to-white/40 tracking-tighter drop-shadow-2xl italic",children:"SAT A!"}),m.jsx("p",{className:"text-lg text-white/40 font-medium tracking-wide",children:"Your direct path to a 1600."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"glass-card p-5 rounded-[1.5rem] flex flex-col justify-between relative overflow-hidden group min-h-[160px] border border-white/10",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 to-red-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-xs font-bold text-white/40 uppercase tracking-widest",children:"Streak"}),m.jsxs("div",{className:"flex items-baseline gap-1",children:[m.jsx("span",{className:"text-4xl font-black text-white",children:l.count}),m.jsx("span",{className:"text-sm font-bold text-orange-500",children:"Days"})]})]}),m.jsxs("div",{className:"flex items-center gap-1 bg-blue-500/10 px-2 py-1 rounded-lg text-xs font-bold text-blue-300 border border-blue-500/20",title:"Streak Freezes Available",children:[m.jsx(B0,{className:"w-3.5 h-3.5"})," ",l.freezes]})]}),m.jsx("div",{className:"flex justify-between items-end mt-auto pt-2",children:_.map((N,k)=>m.jsx("div",{className:"flex flex-col items-center gap-1.5",children:m.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all
                                ${N.active?"bg-orange-500 text-white shadow-[0_0_10px_rgba(249,115,22,0.5)] scale-110":"bg-white/5 text-white/20"}`,children:N.active?m.jsx(Gp,{className:"w-4 h-4 fill-current"}):N.day})},k))})]}),m.jsxs("button",{onClick:e,disabled:w,className:`p-5 rounded-[1.5rem] flex flex-col justify-between relative overflow-hidden transition-all border min-h-[160px] group
                    ${w?"bg-emerald-500/10 border-emerald-500/20 cursor-default":"glass-card hover:bg-white/5 hover:border-indigo-500/40 cursor-pointer active:scale-[0.98]"}`,children:[m.jsxs("div",{className:"flex justify-between items-start w-full relative z-10",children:[m.jsxs("div",{className:"flex flex-col items-start",children:[m.jsx("span",{className:"text-xs font-bold text-white/40 uppercase tracking-widest",children:"Daily Ops"}),m.jsx("h3",{className:"text-xl font-bold text-white mt-1",children:w?"Mission Complete":"Target Acquired"})]}),m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center
                        ${w?"bg-emerald-500/20":"bg-indigo-500/20"}`,children:w?m.jsx(q0,{className:"w-5 h-5 text-emerald-400"}):m.jsx(Jp,{className:"w-5 h-5 text-indigo-400"})})]}),m.jsx("div",{className:"mt-auto relative z-10",children:w?m.jsxs("div",{className:"flex items-center gap-2 text-emerald-300 text-sm font-medium",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Refreshes at midnight"]}):m.jsxs("div",{className:"flex items-center justify-between w-full",children:[m.jsx("span",{className:"text-sm text-white/60",children:"XP Multiplier Active"}),m.jsx("span",{className:"px-3 py-1 bg-white text-black text-xs font-black rounded-full uppercase",children:"Start"})]})}),!w&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600/10 to-purple-600/10 group-hover:opacity-100 opacity-0 transition-opacity"})]})]}),m.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-[2.5rem] space-y-8 relative shadow-2xl border border-white/10",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-widest ml-1",children:"Subject"}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 p-1 bg-black/20 rounded-2xl border border-white/5",children:[m.jsxs("button",{onClick:()=>d("math"),className:`flex items-center justify-center gap-2 py-4 rounded-xl text-sm font-bold transition-all
                        ${c==="math"?"bg-indigo-600 text-white shadow-lg":"text-white/40 hover:text-white hover:bg-white/5"}`,children:[m.jsx(fa,{className:"w-4 h-4"})," Math"]}),m.jsxs("button",{onClick:()=>d("english"),className:`flex items-center justify-center gap-2 py-4 rounded-xl text-sm font-bold transition-all
                        ${c==="english"?"bg-purple-600 text-white shadow-lg":"text-white/40 hover:text-white hover:bg-white/5"}`,children:[m.jsx(pa,{className:"w-4 h-4"})," English"]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-widest ml-1",children:"Difficulty"}),m.jsx("div",{className:"grid grid-cols-3 gap-3",children:["easy","medium","hard"].map(N=>m.jsx("button",{onClick:()=>h(N),className:`py-3 rounded-xl border text-sm font-bold capitalize transition-all duration-300
                            ${f===N?"bg-white text-black border-white shadow-[0_0_20px_rgba(255,255,255,0.3)] scale-105":"bg-white/5 border-transparent text-white/40 hover:bg-white/10 hover:text-white"}`,children:N},N))})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-widest ml-1",children:"Mode"}),m.jsxs("div",{className:"flex bg-black/20 p-1 rounded-xl border border-white/5 relative",children:[m.jsxs("button",{onClick:()=>g("timed"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg text-xs font-bold uppercase tracking-wider transition-all
                        ${p==="timed"?"bg-red-500/80 text-white shadow-lg":"text-white/30 hover:text-white"}`,children:[m.jsx(_0,{className:"w-3.5 h-3.5"})," Timed"]}),m.jsxs("button",{onClick:()=>g("practice"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg text-xs font-bold uppercase tracking-wider transition-all
                        ${p==="practice"?"bg-emerald-500/80 text-white shadow-lg":"text-white/30 hover:text-white"}`,children:[m.jsx(Up,{className:"w-3.5 h-3.5"})," Practice"]})]})]}),m.jsxs("button",{onClick:()=>t(c,f,p),className:"w-full group relative py-6 bg-white text-black rounded-2xl font-black text-xl tracking-wide hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 shadow-[0_0_40px_rgba(255,255,255,0.2)] overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-black/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),m.jsxs("span",{className:"flex items-center justify-center gap-2 relative z-10",children:["START SESSION ",m.jsx(qp,{className:"w-6 h-6 fill-current"})]})]}),m.jsxs("button",{onClick:o,className:"w-full text-center text-xs font-bold text-white/30 hover:text-indigo-300 transition-colors flex items-center justify-center gap-2",children:[m.jsx(bp,{className:"w-3 h-3"})," BROWSE QUESTION BANK"]})]})]})]})},W0=({questions:t,isTimed:e,timePerQuestion:n,onComplete:o,onExit:r,subject:i})=>{const[l,u]=D.useState(0),[c,d]=D.useState([]),[f,h]=D.useState(t.length*n),[p,g]=D.useState(!1),[w]=D.useState(t.length*n),[S,E]=D.useState(!1),[y,v]=D.useState(!1),[x,T]=D.useState(!1),[C,I]=D.useState({x:50,y:100}),[_,N]=D.useState({w:600,h:450}),[k,R]=D.useState(!1),[z,J]=D.useState(!1),F=D.useRef({startX:0,startY:0,startLeft:0,startTop:0,startW:0,startH:0}),de=D.useRef(null),Se=D.useRef(null),Ee=t[l],ee=c.find(B=>B.questionIndex===l);D.useEffect(()=>{if(!e||p)return;const B=setInterval(()=>{h(W=>W<=1?(clearInterval(B),H(),0):W-1)},1e3);return()=>clearInterval(B)},[e,p]),D.useEffect(()=>{i==="math"&&de.current&&!Se.current&&window.Desmos&&(Se.current=window.Desmos.GraphingCalculator(de.current,{keypad:!0,expressions:!0,settingsMenu:!0,zoomButtons:!0,expressionsCollapsed:!1,capExpressionSize:!1,lockViewport:!1,border:!1}))},[i]),D.useEffect(()=>{Se.current&&Se.current.resize()},[_,y]);const P=B=>{R(!0),F.current={startX:B.clientX,startY:B.clientY,startLeft:C.x,startTop:C.y,startW:0,startH:0}},V=B=>{B.stopPropagation(),J(!0),F.current={startX:B.clientX,startY:B.clientY,startLeft:0,startTop:0,startW:_.w,startH:_.h}};D.useEffect(()=>{const B=te=>{if(k){const tn=te.clientX-F.current.startX,b=te.clientY-F.current.startY;I({x:Math.max(0,F.current.startLeft+tn),y:Math.max(0,F.current.startTop+b)})}if(z){const tn=te.clientX-F.current.startX,b=te.clientY-F.current.startY;N({w:Math.max(300,F.current.startW+tn),h:Math.max(250,F.current.startH+b)})}},W=()=>{R(!1),J(!1)};return k||z?(window.addEventListener("mousemove",B),window.addEventListener("mouseup",W),document.body.style.userSelect="none"):document.body.style.userSelect="",()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",W),document.body.style.userSelect=""}},[k,z]);const H=D.useCallback(()=>{Se.current&&(Se.current.destroy(),Se.current=null);let B=0;c.forEach(W=>{t[W.questionIndex].correct===W.chosenIndex&&B++}),o(B,c)},[c,t,o]);D.useEffect(()=>{c.length===t.length&&setTimeout(()=>H(),800)},[c,t.length,H]);const K=B=>{ee||(d(W=>[...W,{questionIndex:l,correctIndex:Ee.correct,chosenIndex:B}]),l<t.length-1&&setTimeout(()=>u(W=>W+1),800))},ht=f/w*100;let Te="normal";f<=10?Te="critical":ht<=25?Te="danger":ht<=50&&(Te="warning");const Me={normal:{text:"text-emerald-400",stroke:"text-emerald-400",container:"bg-emerald-900/10 border-emerald-500/20",shadow:""},warning:{text:"text-amber-400",stroke:"text-amber-400",container:"bg-amber-900/10 border-amber-500/30",shadow:"shadow-[0_0_15px_rgba(245,158,11,0.1)]"},danger:{text:"text-orange-500",stroke:"text-orange-500",container:"bg-orange-900/10 border-orange-500/40",shadow:"shadow-[0_0_20px_rgba(249,115,22,0.2)]"},critical:{text:"text-rose-500",stroke:"text-rose-500",container:"bg-rose-900/20 border-rose-500/50",shadow:"shadow-[0_0_30px_rgba(244,63,94,0.4)]"}}[Te];return D.useEffect(()=>{const B=W=>{p||y||x||(W.key>="1"&&W.key<="4"&&K(parseInt(W.key)-1),W.key==="ArrowRight"&&l<t.length-1&&u(te=>te+1),W.key==="ArrowLeft"&&l>0&&u(te=>te-1))};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[l,p,ee,y,x]),S?m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md animate-fade-in",children:m.jsxs("div",{className:"glass-card p-8 rounded-[2rem] text-center max-w-sm w-full mx-4",children:[m.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Abort Session?"}),m.jsx("p",{className:"text-white/50 mb-8 text-sm",children:"Progress will not be saved."}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:()=>E(!1),className:"flex-1 py-3 rounded-xl bg-white/10 hover:bg-white/20 text-white font-medium transition-colors",children:"Resume"}),m.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/20 font-medium transition-colors",children:"Exit"})]})]})}):m.jsxs("div",{className:"flex flex-col min-h-screen max-w-5xl mx-auto px-6 py-8 relative z-10",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>E(!0),className:"p-3 bg-white/5 hover:bg-white/10 rounded-full transition-colors border border-white/5",children:m.jsx(Hp,{className:"w-5 h-5 text-white/60"})}),i==="math"&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>v(!y),className:`p-3 rounded-full transition-all border ${y?"bg-indigo-500 border-indigo-400 text-white shadow-lg":"bg-white/5 border-white/5 text-white/60 hover:text-white hover:bg-white/10"}`,title:"Toggle Desmos Calculator",children:m.jsx(Fp,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>T(!0),className:`p-3 rounded-full transition-all border ${x?"bg-indigo-500 border-indigo-400 text-white shadow-lg":"bg-white/5 border-white/5 text-white/60 hover:text-white hover:bg-white/10"}`,title:"Reference Sheet",children:m.jsx(bu,{className:"w-5 h-5"})})]})]}),m.jsx("div",{className:"hidden md:flex gap-1.5 overflow-x-auto max-w-[40%] md:max-w-[50%] no-scrollbar px-2 py-1 mx-4",children:t.map((B,W)=>{const te=c.find(Q=>Q.questionIndex===W),tn=W===l;let b="bg-white/10 border-transparent";return tn?b="bg-indigo-500 border-indigo-400 shadow-[0_0_10px_rgba(99,102,241,0.5)] scale-110":(te==null?void 0:te.chosenIndex)===(te==null?void 0:te.correctIndex)?b="bg-emerald-500/50 border-emerald-500/30":te&&(b="bg-red-500/50 border-red-500/30"),m.jsx("div",{className:`w-2 h-2 md:w-3 md:h-1 rounded-full border transition-all duration-300 shrink-0 ${b}`},W)})}),e&&m.jsxs("div",{className:`flex items-center gap-4 px-5 py-3 rounded-full border transition-all duration-500 ${Me.container} ${Me.shadow}`,children:[m.jsxs("div",{className:`relative w-12 h-12 flex items-center justify-center ${Te==="critical"?"animate-pulse":""}`,children:[m.jsxs("svg",{className:"absolute w-full h-full -rotate-90",children:[m.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-white/5"}),m.jsx("circle",{cx:"24",cy:"24",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"3",className:`${Me.stroke} transition-all duration-1000`,strokeDasharray:125.6,strokeDashoffset:125.6-125.6*ht/100,strokeLinecap:"round"})]}),m.jsxs("span",{className:`text-sm font-black font-mono tracking-tighter ${Me.text}`,children:[f<60?f:Math.ceil(f/60),m.jsx("span",{className:"text-[9px] opacity-70 ml-0.5",children:f<60?"s":"m"})]})]}),m.jsx("div",{className:"h-8 w-px bg-white/10 mx-1"}),m.jsx("button",{onClick:()=>g(!p),className:"text-white/60 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",children:p?m.jsx(qp,{className:"w-6 h-6 fill-current"}):m.jsx(U0,{className:"w-6 h-6 fill-current"})})]})]}),m.jsxs("div",{className:`flex-1 flex flex-col justify-center transition-all duration-500 ${p?"opacity-0 scale-95 blur-md":"opacity-100 scale-100"}`,children:[m.jsxs("div",{className:"glass-card rounded-[2rem] p-8 md:p-12 mb-8 animate-slide-up shadow-2xl relative overflow-hidden",children:[m.jsx("div",{className:"absolute -right-4 -bottom-10 text-[10rem] font-black text-white/5 select-none font-sans leading-none pointer-events-none",children:l+1}),Ee.topic&&m.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-[10px] font-bold uppercase tracking-widest mb-4",children:Ee.topic}),m.jsx("h2",{className:"text-2xl md:text-4xl font-bold leading-tight relative z-10 text-glow",children:Ee.q})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ee.a.map((B,W)=>{let te="group relative p-6 rounded-2xl border-2 text-lg font-medium transition-all duration-300 transform active:scale-[0.98] text-left overflow-hidden ";return ee?W===Ee.correct?te+="bg-emerald-500/20 border-emerald-500 text-emerald-200 shadow-[0_0_30px_rgba(16,185,129,0.3)] z-10 scale-[1.02] ":W===ee.chosenIndex?te+="bg-red-500/10 border-red-500/50 text-red-200 opacity-60 ":te+="bg-white/5 border-transparent opacity-30 blur-[1px] ":te+="bg-white/5 border-white/5 hover:bg-white/10 hover:border-indigo-500/30 hover:shadow-lg hover:shadow-indigo-500/10 ",m.jsxs("button",{onClick:()=>K(W),disabled:!!ee,className:te,children:[m.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg mr-4 text-sm font-bold transition-colors
                    ${ee&&W===Ee.correct?"bg-emerald-500 text-emerald-950":"bg-white/10 group-hover:bg-white/20"}`,children:String.fromCharCode(65+W)}),m.jsx("span",{className:"relative z-10",children:B}),!ee&&m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:animate-shimmer"})]},W)})})]}),m.jsxs("div",{className:"flex justify-between items-center mt-8 text-white/30 text-sm font-medium",children:[m.jsxs("button",{onClick:()=>u(B=>Math.max(0,B-1)),disabled:l===0,className:"flex items-center gap-2 hover:text-white disabled:opacity-0 transition-colors",children:[m.jsx(Vp,{className:"w-4 h-4"})," Previous"]}),m.jsx("span",{className:"hidden md:block opacity-50",children:"Keyboard: 1-4 to select  Arrows to nav"}),m.jsxs("button",{onClick:()=>u(B=>Math.min(t.length-1,B+1)),disabled:l===t.length-1,className:"flex items-center gap-2 hover:text-white disabled:opacity-0 transition-colors",children:["Next ",m.jsx(E0,{className:"w-4 h-4"})]})]}),p&&m.jsxs("div",{className:"absolute inset-0 z-40 flex flex-col items-center justify-center animate-fade-in",children:[m.jsx("h2",{className:"text-5xl font-black text-transparent bg-clip-text bg-gradient-to-b from-white to-white/50 mb-8 drop-shadow-2xl",children:"PAUSED"}),m.jsx("button",{onClick:()=>g(!1),className:"px-10 py-4 bg-white text-black rounded-full font-bold tracking-wider hover:scale-105 transition-transform shadow-[0_0_40px_rgba(255,255,255,0.3)]",children:"RESUME SESSION"})]}),m.jsxs("div",{style:{left:C.x,top:C.y,width:_.w,height:_.h,display:y?"flex":"none",zIndex:100},className:"fixed flex-col bg-[#111] rounded-xl border border-white/20 shadow-2xl overflow-hidden animate-fade-in",children:[m.jsxs("div",{onMouseDown:P,className:"h-10 bg-white/10 hover:bg-white/15 border-b border-white/10 flex justify-between items-center px-3 cursor-move select-none transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-2 text-white/90 font-bold text-sm",children:[m.jsx(M0,{className:"w-4 h-4 text-indigo-400"}),"Desmos Calculator"]}),m.jsx("button",{onClick:B=>{B.stopPropagation(),v(!1)},className:"hover:bg-white/10 p-1 rounded-md transition-colors",children:m.jsx(Xn,{className:"w-4 h-4 text-white/60 hover:text-white"})})]}),m.jsx("div",{className:"flex-1 relative bg-white",children:m.jsx("div",{ref:de,className:"w-full h-full"})}),m.jsx("div",{onMouseDown:V,className:"absolute bottom-0 right-0 w-6 h-6 flex items-center justify-center cursor-nwse-resize text-black/50 hover:text-black z-10",children:m.jsx(b0,{className:"w-4 h-4"})})]}),x&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:m.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] bg-[#1e293b] rounded-2xl border border-white/10 overflow-y-auto custom-scrollbar relative shadow-2xl",children:[m.jsxs("div",{className:"sticky top-0 bg-[#1e293b]/95 backdrop-blur border-b border-white/5 p-4 flex justify-between items-center z-10",children:[m.jsxs("span",{className:"text-white font-bold text-lg flex items-center gap-2",children:[m.jsx(bu,{className:"w-5 h-5 text-indigo-400"})," SAT Math Reference Sheet"]}),m.jsx("button",{onClick:()=>T(!1),className:"hover:bg-white/10 p-2 rounded-full transition-colors",children:m.jsx(Xn,{className:"w-5 h-5 text-white/60"})})]}),m.jsxs("div",{className:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8 text-white",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-white/40 border-b border-white/10 pb-2",children:"Area & Circumference"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white/5 p-4 rounded-xl text-center",children:[m.jsx("div",{className:"text-2xl font-serif mb-2",children:"A = r"}),m.jsx("div",{className:"text-2xl font-serif",children:"C = 2r"}),m.jsx("div",{className:"text-[10px] uppercase mt-2 text-white/40",children:"Circle"})]}),m.jsxs("div",{className:"bg-white/5 p-4 rounded-xl text-center",children:[m.jsx("div",{className:"text-2xl font-serif mb-2",children:"A = lw"}),m.jsx("div",{className:"text-[10px] uppercase mt-8 text-white/40",children:"Rectangle"})]}),m.jsxs("div",{className:"bg-white/5 p-4 rounded-xl text-center",children:[m.jsx("div",{className:"text-2xl font-serif mb-2",children:"A = bh"}),m.jsx("div",{className:"text-[10px] uppercase mt-2 text-white/40",children:"Triangle"})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-white/40 border-b border-white/10 pb-2",children:"Volume"}),m.jsxs("div",{className:"space-y-3 font-serif text-lg",children:[m.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-4 py-2 rounded-lg",children:[m.jsx("span",{children:"Rectangular Prism"}),m.jsx("span",{className:"text-indigo-300",children:"V = lwh"})]}),m.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-4 py-2 rounded-lg",children:[m.jsx("span",{children:"Cylinder"}),m.jsx("span",{className:"text-indigo-300",children:"V = rh"})]}),m.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-4 py-2 rounded-lg",children:[m.jsx("span",{children:"Sphere"}),m.jsx("span",{className:"text-indigo-300",children:"V = r"})]}),m.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-4 py-2 rounded-lg",children:[m.jsx("span",{children:"Cone"}),m.jsx("span",{className:"text-indigo-300",children:"V = rh"})]}),m.jsxs("div",{className:"flex justify-between items-center bg-white/5 px-4 py-2 rounded-lg",children:[m.jsx("span",{children:"Pyramid"}),m.jsx("span",{className:"text-indigo-300",children:"V = lwh"})]})]})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-6",children:[m.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-white/40 border-b border-white/10 pb-2",children:"Special Right Triangles"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white/5 p-6 rounded-xl relative h-40 flex items-end justify-center",children:[m.jsx("div",{className:"w-0 h-0 border-l-[60px] border-l-transparent border-b-[100px] border-b-indigo-500/20 border-r-[0px] border-r-transparent relative",children:m.jsx("div",{className:"absolute -left-[30px] bottom-0 w-[60px] h-[100px] border-l-2 border-b-2 border-indigo-400"})}),m.jsx("span",{className:"absolute bottom-2 left-[30%] text-sm",children:"x"}),m.jsx("span",{className:"absolute left-[30%] top-[40%] text-sm",children:"2x"}),m.jsx("span",{className:"absolute bottom-2 right-[30%] text-sm",children:"x3"}),m.jsx("span",{className:"absolute top-4 right-4 text-xs font-bold text-white/50",children:"30-60-90"})]}),m.jsxs("div",{className:"bg-white/5 p-6 rounded-xl relative h-40 flex items-end justify-center",children:[m.jsx("div",{className:"w-24 h-24 border-l-2 border-b-2 border-indigo-400 relative",children:m.jsx("div",{className:"absolute top-0 right-0 w-[140%] h-[1px] bg-indigo-400 origin-top-left rotate-45"})}),m.jsx("span",{className:"absolute bottom-2 left-[40%] text-sm",children:"s"}),m.jsx("span",{className:"absolute left-[20%] bottom-[40%] text-sm",children:"s"}),m.jsx("span",{className:"absolute top-[35%] right-[25%] text-sm",children:"s2"}),m.jsx("span",{className:"absolute top-4 right-4 text-xs font-bold text-white/50",children:"45-45-90"})]})]})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2 text-center text-white/30 text-xs italic",children:["The number of degrees of arc in a circle is 360. ",m.jsx("br",{}),"The number of radians of arc in a circle is 2. ",m.jsx("br",{}),"The sum of the measures in degrees of the angles of a triangle is 180."]})]})]})})]})},K0=({score:t,total:e,history:n,questions:o,onRetry:r,onHome:i})=>{const[l,u]=D.useState(!1),c=Math.round(t/e*100),d=Math.round(t/e*800);let f="Good Effort",h="from-blue-400 to-cyan-300";return c>=90?(f="Outstanding Performance",h="from-emerald-400 to-teal-300"):c>=70?(f="Great Job",h="from-indigo-400 to-purple-300"):c<50&&(f="Keep Practicing",h="from-orange-400 to-red-300"),m.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 animate-fade-in relative z-10 selection:bg-white/20",children:[m.jsxs("div",{className:"glass-card w-full max-w-3xl rounded-[2.5rem] p-10 md:p-14 text-center relative overflow-hidden shadow-2xl",children:[m.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 w-[40rem] h-[40rem] bg-gradient-to-b ${h} opacity-10 blur-[100px] pointer-events-none rounded-full`}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 mb-8 backdrop-blur-md",children:[m.jsx($p,{className:"w-4 h-4 text-yellow-300"}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-white/80",children:"Session Complete"})]}),m.jsx("h1",{className:`text-8xl md:text-9xl font-black text-transparent bg-clip-text bg-gradient-to-b ${h} tracking-tighter mb-2 drop-shadow-lg`,children:d}),m.jsx("p",{className:"text-white/40 text-lg font-medium tracking-wide mb-8",children:"SCALED SCORE ESTIMATE"}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-10 max-w-lg mx-auto",children:[m.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5 flex flex-col items-center",children:[m.jsxs("span",{className:"text-3xl font-bold text-white mb-1",children:[c,"%"]}),m.jsx("span",{className:"text-[10px] uppercase tracking-wider text-white/40",children:"Accuracy"})]}),m.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5 flex flex-col items-center",children:[m.jsx("span",{className:"text-3xl font-bold text-emerald-400 mb-1",children:t}),m.jsx("span",{className:"text-[10px] uppercase tracking-wider text-white/40",children:"Correct"})]}),m.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5 flex flex-col items-center",children:[m.jsx("span",{className:"text-3xl font-bold text-red-400 mb-1",children:e-t}),m.jsx("span",{className:"text-[10px] uppercase tracking-wider text-white/40",children:"Incorrect"})]})]}),m.jsx("p",{className:"text-2xl text-white font-medium mb-10",children:f}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center items-center mb-8",children:[m.jsxs("button",{onClick:r,className:"w-full md:w-auto px-8 py-4 bg-white text-black rounded-xl font-bold hover:scale-105 transition-transform flex items-center justify-center gap-2 shadow-[0_0_30px_rgba(255,255,255,0.2)]",children:[m.jsx(V0,{className:"w-5 h-5"})," Retry Similar"]}),m.jsxs("button",{onClick:i,className:"w-full md:w-auto px-8 py-4 bg-white/5 hover:bg-white/10 text-white border border-white/10 rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:[m.jsx(Hp,{className:"w-5 h-5"})," Dashboard"]})]}),m.jsxs("button",{onClick:()=>u(!l),className:"text-white/40 hover:text-white text-sm font-medium flex items-center justify-center gap-2 mx-auto transition-colors",children:[m.jsx(w0,{className:"w-4 h-4"}),l?"Hide Analysis":"Analyze Mistakes"]})]})]}),l&&m.jsxs("div",{className:"w-full max-w-3xl mt-8 space-y-6 pb-12 animate-slide-up",children:[m.jsxs("h3",{className:"text-white/50 text-sm font-bold uppercase tracking-widest mb-4 ml-4 flex items-center gap-2",children:[m.jsx(T0,{className:"w-4 h-4"}),"Error Analysis"]}),n.map((p,g)=>{const w=o[p.questionIndex];return p.chosenIndex===p.correctIndex?null:m.jsxs("div",{className:"glass-card rounded-[2rem] p-8 hover:bg-white/[0.07] transition-colors relative overflow-hidden",children:[m.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1.5 bg-red-500/50"}),m.jsxs("div",{className:"flex flex-col gap-6 pl-4",children:[m.jsxs("div",{children:[m.jsxs("span",{className:"inline-block px-3 py-1 bg-white/5 rounded-full text-[10px] font-bold uppercase tracking-widest text-white/40 mb-3",children:["Question ",p.questionIndex+1]}),m.jsx("h3",{className:"text-xl font-medium text-white/90 leading-relaxed font-serif tracking-wide",children:w.q})]}),m.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.a.map((E,y)=>{let v="p-4 rounded-xl border text-sm font-medium transition-all flex items-center gap-3 ";return y===p.correctIndex?v+="bg-emerald-500/10 border-emerald-500/40 text-emerald-200 shadow-[0_0_15px_rgba(16,185,129,0.1)]":y===p.chosenIndex?v+="bg-red-500/10 border-red-500/40 text-red-200":v+="bg-white/5 border-transparent text-white/30 opacity-60",m.jsxs("div",{className:v,children:[m.jsx("span",{className:`flex items-center justify-center w-6 h-6 rounded-md text-xs font-bold
                                                ${y===p.correctIndex?"bg-emerald-500 text-black":y===p.chosenIndex?"bg-red-500 text-black":"bg-white/10 text-white/50"}`,children:String.fromCharCode(65+y)}),m.jsx("span",{className:"flex-1",children:E}),y===p.correctIndex&&m.jsx(Vu,{className:"w-5 h-5 text-emerald-400"}),y===p.chosenIndex&&m.jsx(C0,{className:"w-5 h-5 text-red-400"})]},y)})})]})]},g)}),n.every(p=>p.chosenIndex===p.correctIndex)&&m.jsxs("div",{className:"text-center py-16 glass-card rounded-[2.5rem] border border-emerald-500/20 bg-emerald-900/10",children:[m.jsx("div",{className:"w-20 h-20 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-[0_0_30px_rgba(16,185,129,0.2)]",children:m.jsx(Vu,{className:"w-10 h-10 text-emerald-400"})}),m.jsx("h3",{className:"text-3xl font-black text-white mb-2",children:"Flawless Victory"}),m.jsx("p",{className:"text-white/60",children:"Perfection achieved. No mistakes to analyze."})]})]})]})},Y0=({isOpen:t,onClose:e,stats:n,onResetStats:o,onOpenResources:r})=>{if(!t)return null;const i=n.subjects.math.correct+n.subjects.math.incorrect,l=n.subjects.english.correct+n.subjects.english.incorrect,u=i?Math.round(n.subjects.math.correct/i*100):0,c=l?Math.round(n.subjects.english.correct/l*100):0;return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",onClick:e,children:m.jsxs("div",{className:"glass-card w-full max-w-lg rounded-3xl p-8 shadow-2xl relative border border-white/10",onClick:d=>d.stopPropagation(),children:[m.jsx("button",{onClick:e,className:"absolute top-6 right-6 p-2 hover:bg-white/10 rounded-full transition-colors group",children:m.jsx(Xn,{className:"w-5 h-5 text-white/40 group-hover:text-white"})}),m.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[m.jsx("div",{className:"p-3 bg-white/5 rounded-xl",children:m.jsx(Lp,{className:"w-6 h-6 text-indigo-400"})}),m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Performance Stats"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl text-center border border-white/5 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute inset-0 bg-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsx("div",{className:"text-4xl font-black text-indigo-400 mb-1 relative z-10",children:n.totalQuizzes}),m.jsx("div",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold relative z-10",children:"Total Sessions"})]}),m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl text-center border border-white/5 relative overflow-hidden group",children:[m.jsx("div",{className:"absolute inset-0 bg-emerald-500/10 opacity-0 group-hover:opacity-100 transition-opacity"}),m.jsx("div",{className:"text-4xl font-black text-emerald-400 mb-1 relative z-10",children:n.totalScore>0?Math.round(n.totalScore/(n.totalQuizzes||1)):0}),m.jsx("div",{className:"text-[10px] text-white/40 uppercase tracking-widest font-bold relative z-10",children:"Avg Scaled Score"})]})]}),m.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 space-y-6 mb-8",children:[m.jsxs("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest flex items-center gap-2",children:[m.jsx(S0,{className:"w-4 h-4"})," Subject Proficiency"]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm mb-2 font-medium",children:[m.jsx("span",{className:"text-white",children:"Math"}),m.jsxs("span",{className:u>=70?"text-emerald-400":"text-white/60",children:[u,"%"]})]}),m.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-indigo-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${u}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between text-sm mb-2 font-medium",children:[m.jsx("span",{className:"text-white",children:"English"}),m.jsxs("span",{className:c>=70?"text-emerald-400":"text-white/60",children:[c,"%"]})]}),m.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 to-pink-500 rounded-full transition-all duration-1000 ease-out",style:{width:`${c}%`}})})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:()=>{e(),r()},className:"w-full py-4 bg-white text-black rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-gray-200 transition-colors shadow-lg shadow-white/10",children:[m.jsx(v0,{className:"w-5 h-5"})," Open Knowledge Base"]}),m.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to reset all stats? This cannot be undone.")&&o()},className:"w-full py-4 bg-transparent hover:bg-red-500/10 text-white/40 hover:text-red-400 border border-white/5 hover:border-red-500/20 rounded-xl font-medium flex items-center justify-center gap-2 transition-all",children:[m.jsx(J0,{className:"w-4 h-4"})," Reset Data"]})]})]})})},Q0=({isOpen:t,onClose:e})=>{const[n,o]=D.useState(""),[r,i]=D.useState("resources"),l=D.useMemo(()=>{if(!n)return Uu;const d=n.toLowerCase();return Uu.map(f=>({category:f.category,links:f.links.filter(h=>h.title.toLowerCase().includes(d)||f.category.toLowerCase().includes(d))})).filter(f=>f.links.length>0)},[n]),u=D.useMemo(()=>{if(!n)return Fu;const d=n.toLowerCase();return Fu.map(f=>({...f,tips:f.tips.filter(h=>h.toLowerCase().includes(d)||f.category.toLowerCase().includes(d))})).filter(f=>f.tips.length>0)},[n]),c=d=>{switch(d){case"Monitor":return m.jsx(L0,{className:"w-5 h-5"});case"Calculator":return m.jsx(Fp,{className:"w-5 h-5"});case"Brain":return m.jsx(fa,{className:"w-5 h-5"});case"PenTool":return m.jsx(pa,{className:"w-5 h-5"});case"BookOpen":return m.jsx(Up,{className:"w-5 h-5"});case"Smile":return m.jsx(z0,{className:"w-5 h-5"});default:return m.jsx(Hu,{className:"w-5 h-5"})}};return t?m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",onClick:e,children:m.jsxs("div",{className:"glass-card w-full max-w-5xl h-[90vh] rounded-[2rem] flex flex-col overflow-hidden shadow-2xl border border-white/10",onClick:d=>d.stopPropagation(),children:[m.jsxs("div",{className:"p-6 border-b border-white/5 bg-white/5 flex flex-col gap-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-3 bg-indigo-500/20 rounded-xl",children:m.jsx(R0,{className:"w-6 h-6 text-indigo-300"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Knowledge Base"}),m.jsx("p",{className:"text-sm text-white/40",children:"Elite preparation materials & tactical guides"})]})]}),m.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors group",children:m.jsx(Xn,{className:"w-6 h-6 text-white/40 group-hover:text-white"})})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[m.jsxs("div",{className:"flex bg-black/40 p-1 rounded-xl border border-white/5 shrink-0",children:[m.jsxs("button",{onClick:()=>i("resources"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all duration-300 flex items-center gap-2
                        ${r==="resources"?"bg-indigo-600 text-white shadow-lg":"text-white/40 hover:text-white hover:bg-white/5"}`,children:[m.jsx(Gu,{className:"w-4 h-4"})," Resources"]}),m.jsxs("button",{onClick:()=>i("strategies"),className:`px-6 py-2 rounded-lg text-sm font-bold transition-all duration-300 flex items-center gap-2
                        ${r==="strategies"?"bg-emerald-600 text-white shadow-lg":"text-white/40 hover:text-white hover:bg-white/5"}`,children:[m.jsx(Hu,{className:"w-4 h-4"})," Pro Strategies"]})]}),m.jsxs("div",{className:"relative group flex-1",children:[m.jsx(Pr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/30 group-focus-within:text-indigo-400 transition-colors"}),m.jsx("input",{type:"text",placeholder:r==="resources"?"Search links (e.g., 'Khan', 'Calculus')...":"Search strategies (e.g., 'Desmos', 'Grammar')...",value:n,onChange:d=>o(d.target.value),className:"w-full h-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 text-white placeholder-white/20 focus:outline-none focus:border-indigo-500/50 focus:bg-black/40 transition-all shadow-inner text-sm",autoFocus:!0})]})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar bg-black/20",children:[r==="resources"&&m.jsx("div",{className:"space-y-8",children:l.length>0?l.map((d,f)=>m.jsxs("div",{className:"animate-slide-up",style:{animationDelay:`${f*50}ms`},children:[m.jsxs("h3",{className:"flex items-center gap-2 text-xs font-bold text-indigo-200/60 uppercase tracking-widest mb-4 ml-1 sticky top-0 bg-[#0c1221]/95 backdrop-blur-sm py-2 z-10 w-fit pr-4 rounded-r-full",children:[m.jsx(Gu,{className:"w-3 h-3"}),d.category]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.links.map((h,p)=>m.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col justify-between p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 hover:border-indigo-500/30 hover:shadow-lg hover:shadow-indigo-500/10 transition-all duration-300",children:[m.jsx("span",{className:"text-white/80 font-medium text-sm group-hover:text-white line-clamp-2 mb-2 transition-colors",children:h.title}),m.jsx("div",{className:"flex items-center justify-end",children:m.jsx(I0,{className:"w-3 h-3 text-white/20 group-hover:text-indigo-400 transition-colors transform group-hover:translate-x-1 group-hover:-translate-y-1"})})]},p))})]},f)):m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-white/30",children:[m.jsx(Pr,{className:"w-12 h-12 mb-4 opacity-50"}),m.jsxs("p",{children:['No resources found matching "',n,'"']})]})}),r==="strategies"&&m.jsx("div",{className:"columns-1 md:columns-2 gap-6 space-y-6",children:u.length>0?u.map((d,f)=>m.jsx("div",{className:"break-inside-avoid animate-slide-up",style:{animationDelay:`${f*100}ms`},children:m.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:border-emerald-500/30 transition-colors duration-300",children:[m.jsxs("div",{className:"p-4 bg-white/5 border-b border-white/5 flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg text-emerald-300",children:c(d.icon)}),m.jsx("h3",{className:"font-bold text-white text-lg",children:d.category})]}),m.jsx("div",{className:"p-5",children:m.jsx("ul",{className:"space-y-4",children:d.tips.map((h,p)=>m.jsxs("li",{className:"flex gap-3 text-sm text-white/70 leading-relaxed",children:[m.jsx("span",{className:"shrink-0 w-1.5 h-1.5 rounded-full bg-emerald-500/50 mt-1.5"}),m.jsx("span",{children:h})]},p))})})]})},f)):m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-white/30 col-span-full",children:[m.jsx(Pr,{className:"w-12 h-12 mb-4 opacity-50"}),m.jsxs("p",{children:['No strategies found matching "',n,'"']})]})}),m.jsx("div",{className:"h-10"})]})]})}):null},X0=({isOpen:t,onClose:e,stats:n,setStats:o,streak:r,setStreak:i,view:l})=>{const[u,c]=D.useState(r.count.toString());if(!t)return null;const d=()=>{const p=parseInt(u);isNaN(p)||i(g=>({...g,count:p}))},f=()=>{i(p=>({...p,lastDate:null}))},h=()=>{o(p=>({...p,totalQuizzes:p.totalQuizzes+10,totalScore:p.totalScore+8e3,totalCorrect:p.totalCorrect+100,subjects:{math:{correct:p.subjects.math.correct+50,incorrect:p.subjects.math.incorrect+5},english:{correct:p.subjects.english.correct+50,incorrect:p.subjects.english.incorrect+5}}}))};return m.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-xl p-4 animate-fade-in font-mono text-sm",children:m.jsxs("div",{className:"w-full max-w-2xl bg-gray-900 border border-red-500/30 rounded-lg shadow-2xl overflow-hidden relative",children:[m.jsxs("div",{className:"bg-red-950/30 border-b border-red-500/20 p-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3 text-red-400",children:[m.jsx(H0,{className:"w-5 h-5"}),m.jsx("h2",{className:"font-bold tracking-widest uppercase",children:"Admin Debug Console"})]}),m.jsx("button",{onClick:e,className:"text-red-400 hover:text-white transition-colors",children:m.jsx(Xn,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h3",{className:"text-gray-500 uppercase text-xs font-bold flex items-center gap-2",children:[m.jsx(x0,{className:"w-4 h-4"})," Streak Manager"]}),m.jsxs("div",{className:"bg-black/40 p-4 rounded border border-gray-800 space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"number",value:u,onChange:p=>c(p.target.value),className:"bg-gray-800 border border-gray-700 text-white px-3 py-1 rounded w-full focus:border-red-500 outline-none",placeholder:"Streak Count"}),m.jsx("button",{onClick:d,className:"bg-red-900/50 hover:bg-red-800 text-red-200 px-3 py-1 rounded border border-red-800 transition-colors",children:"Set"})]}),m.jsxs("button",{onClick:f,className:"w-full text-left text-xs text-orange-400 hover:text-orange-300 transition-colors flex items-center gap-2",children:[m.jsx(F0,{className:"w-3 h-3"})," Reset Daily Completion (Allow Retake)"]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h3",{className:"text-gray-500 uppercase text-xs font-bold flex items-center gap-2",children:[m.jsx(bp,{className:"w-4 h-4"})," Data Injection"]}),m.jsxs("div",{className:"bg-black/40 p-4 rounded border border-gray-800 space-y-3",children:[m.jsxs("button",{onClick:h,className:"w-full bg-indigo-900/30 hover:bg-indigo-800/50 text-indigo-300 border border-indigo-800/50 px-3 py-2 rounded flex items-center justify-center gap-2 transition-colors",children:[m.jsx($0,{className:"w-4 h-4"})," Inject Mock Data (+10 Quizzes)"]}),m.jsxs("button",{onClick:()=>o({totalQuizzes:0,totalCorrect:0,totalIncorrect:0,totalScore:0,subjects:{math:{correct:0,incorrect:0},english:{correct:0,incorrect:0}}}),className:"w-full bg-red-900/20 hover:bg-red-900/40 text-red-400 border border-red-900/30 px-3 py-2 rounded flex items-center justify-center gap-2 transition-colors",children:[m.jsx(Xn,{className:"w-4 h-4"})," Nuke All Stats"]})]})]}),m.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-4",children:[m.jsxs("h3",{className:"text-gray-500 uppercase text-xs font-bold flex items-center gap-2",children:[m.jsx(Lp,{className:"w-4 h-4"})," State Inspector"]}),m.jsx("div",{className:"bg-black/60 p-4 rounded border border-gray-800 font-mono text-xs text-green-400 overflow-x-auto h-32 custom-scrollbar",children:m.jsx("pre",{children:JSON.stringify({view:l,streak:r,statsSummary:{quizzes:n.totalQuizzes,score:n.totalScore}},null,2)})})]})]})]})})},Z0=({onBack:t})=>{const[e,n]=D.useState(""),[o,r]=D.useState("all"),[i,l]=D.useState("all"),[u,c]=D.useState(new Set),d=D.useMemo(()=>{const p=[];let g=0;return["easy","medium","hard"].forEach(w=>{Lu.math[w].forEach(S=>{p.push({...S,subject:"math",difficulty:w,id:g++})})}),["easy","medium","hard"].forEach(w=>{Lu.english[w].forEach(S=>{p.push({...S,subject:"english",difficulty:w,id:g++})})}),p},[]),f=D.useMemo(()=>d.filter(p=>{var E;const g=p.q.toLowerCase().includes(e.toLowerCase())||((E=p.topic)==null?void 0:E.toLowerCase().includes(e.toLowerCase())),w=o==="all"||p.subject===o,S=i==="all"||p.difficulty===i;return g&&w&&S}),[e,o,i,d]),h=p=>{const g=new Set(u);g.has(p)?g.delete(p):g.add(p),c(g)};return m.jsxs("div",{className:"flex flex-col min-h-screen max-w-7xl mx-auto px-4 py-6 relative z-10 animate-fade-in",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 mb-8",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[m.jsx("button",{onClick:t,className:"p-3 bg-white/5 hover:bg-white/10 rounded-full border border-white/5 transition-all hover:scale-105",children:m.jsx(Vp,{className:"w-5 h-5 text-white/70"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-black text-white tracking-tight flex items-center gap-2",children:m.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-purple-400",children:"Question Bank"})}),m.jsxs("p",{className:"text-white/40 text-sm font-medium",children:[f.length," questions available"]})]})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto bg-black/20 p-2 rounded-2xl border border-white/5 backdrop-blur-xl",children:[m.jsxs("div",{className:"relative group",children:[m.jsx(Pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30 group-focus-within:text-indigo-400 transition-colors"}),m.jsx("input",{type:"text",placeholder:"Search questions...",value:e,onChange:p=>n(p.target.value),className:"w-full md:w-64 bg-white/5 border border-white/5 rounded-xl py-2 pl-9 pr-4 text-sm text-white focus:outline-none focus:bg-white/10 focus:border-indigo-500/30 transition-all"})]}),m.jsx("div",{className:"h-px md:h-auto md:w-px bg-white/10 mx-1"}),m.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar",children:[m.jsxs("select",{value:o,onChange:p=>r(p.target.value),className:"bg-white/5 border border-white/5 rounded-xl py-2 px-3 text-sm text-white/70 focus:outline-none focus:bg-white/10 cursor-pointer",children:[m.jsx("option",{value:"all",children:"All Subjects"}),m.jsx("option",{value:"math",children:"Math"}),m.jsx("option",{value:"english",children:"English"})]}),m.jsxs("select",{value:i,onChange:p=>l(p.target.value),className:"bg-white/5 border border-white/5 rounded-xl py-2 px-3 text-sm text-white/70 focus:outline-none focus:bg-white/10 cursor-pointer",children:[m.jsx("option",{value:"all",children:"Any Difficulty"}),m.jsx("option",{value:"easy",children:"Easy"}),m.jsx("option",{value:"medium",children:"Medium"}),m.jsx("option",{value:"hard",children:"Hard"})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 pb-20",children:[f.map(p=>{const g=u.has(p.id);return m.jsxs("div",{className:"glass-card p-6 rounded-[1.5rem] flex flex-col justify-between group hover:border-indigo-500/30 transition-all duration-300 hover:-translate-y-1 relative overflow-hidden",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("span",{className:`p-2 rounded-lg ${p.subject==="math"?"bg-indigo-500/10 text-indigo-300":"bg-purple-500/10 text-purple-300"}`,children:p.subject==="math"?m.jsx(fa,{className:"w-4 h-4"}):m.jsx(pa,{className:"w-4 h-4"})}),m.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold uppercase tracking-wider flex items-center border
                        ${p.difficulty==="easy"?"bg-emerald-500/10 border-emerald-500/20 text-emerald-300":p.difficulty==="medium"?"bg-amber-500/10 border-amber-500/20 text-amber-300":"bg-red-500/10 border-red-500/20 text-red-300"}`,children:p.difficulty})]}),m.jsxs("div",{className:"text-xs text-white/20 font-mono",children:["#",p.id+1]})]}),m.jsxs("div",{className:"mb-6",children:[p.topic&&m.jsxs("div",{className:"text-[10px] font-bold text-white/30 uppercase tracking-widest mb-2 flex items-center gap-1",children:[m.jsx(P0,{className:"w-3 h-3"})," ",p.topic]}),m.jsx("p",{className:"text-white/90 font-medium leading-relaxed font-serif",children:p.q})]}),m.jsxs("div",{className:"space-y-3 mt-auto",children:[g?m.jsx("div",{className:"space-y-2 animate-fade-in",children:p.a.map((w,S)=>m.jsxs("div",{className:`text-sm p-2 rounded-lg flex gap-3 items-center border ${S===p.correct?"bg-emerald-500/20 border-emerald-500/30 text-emerald-200":"bg-white/5 border-transparent text-white/40"}`,children:[m.jsx("span",{className:"font-bold w-5 h-5 flex items-center justify-center bg-black/20 rounded text-xs",children:String.fromCharCode(65+S)}),w]},S))}):m.jsxs("button",{onClick:()=>h(p.id),className:"w-full py-3 bg-white/5 hover:bg-white/10 border border-white/5 rounded-xl text-sm font-bold text-white/60 hover:text-white transition-all flex items-center justify-center gap-2 group/btn",children:[m.jsx(A0,{className:"w-4 h-4 group-hover/btn:scale-110 transition-transform"})," Reveal Answer"]}),g&&m.jsxs("button",{onClick:()=>h(p.id),className:"w-full py-2 bg-transparent text-xs font-medium text-white/30 hover:text-white transition-colors flex items-center justify-center gap-2",children:[m.jsx(N0,{className:"w-3 h-3"})," Hide"]})]}),m.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 blur-[60px] rounded-full opacity-20 pointer-events-none transition-colors duration-500
                 ${p.subject==="math"?"bg-indigo-600":"bg-purple-600"}`})]},p.id)}),f.length===0&&m.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20 text-white/30",children:[m.jsx(k0,{className:"w-12 h-12 mb-4 opacity-50"}),m.jsx("p",{children:"No questions found matching your criteria."})]})]})]})},j0=({isOpen:t,lostStreak:e,onRecover:n,onAcceptLoss:o})=>t?m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-xl p-4 animate-fade-in",children:m.jsxs("div",{className:"glass-card max-w-md w-full p-8 rounded-[2rem] text-center border border-red-500/30 relative overflow-hidden shadow-[0_0_50px_rgba(239,68,68,0.2)]",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-500/10 to-transparent pointer-events-none"}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("div",{className:"w-24 h-24 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 ring-1 ring-red-500/30 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:m.jsx(Gp,{className:"w-12 h-12 text-red-500 drop-shadow-[0_0_10px_rgba(239,68,68,0.8)]"})}),m.jsx("h2",{className:"text-4xl font-black text-white mb-2 tracking-tight",children:"Streak Broken!"}),m.jsxs("p",{className:"text-white/60 mb-8 leading-relaxed",children:["You missed yesterday. Your hard-earned ",m.jsxs("span",{className:"text-white font-bold text-lg",children:[e,"-day"]})," streak is about to be reset."]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("button",{onClick:n,className:"w-full py-4 bg-gradient-to-r from-orange-600 to-red-600 rounded-xl font-black text-white shadow-lg hover:scale-[1.02] hover:shadow-red-500/30 transition-all flex items-center justify-center gap-2 group relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),m.jsx(Jp,{className:"w-5 h-5 fill-current animate-pulse relative z-10"}),m.jsx("span",{className:"relative z-10",children:"REPAIR STREAK"})]}),m.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/30 uppercase tracking-widest font-bold justify-center",children:[m.jsx("span",{className:"h-px bg-white/10 w-12"}),"Mission: Score 100% on 1 Hard Q",m.jsx("span",{className:"h-px bg-white/10 w-12"})]}),m.jsx("button",{onClick:o,className:"w-full py-3 bg-transparent hover:bg-white/5 rounded-xl font-bold text-white/30 hover:text-white transition-colors border border-transparent hover:border-white/5",children:"Accept Defeat"})]})]})]})}):null;var ey={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ty,ny;function oy(){return{geminiUrl:ty,vertexUrl:ny}}function ry(t,e,n,o){var r,i;if(!(t!=null&&t.baseUrl)){const l=oy();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt{}function M(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(t,e,n){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(i+1),n[d])}else for(const d of c)a(d,e.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(i+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const l=t[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function iy(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}ol(t,r,i,0,l)}}function ol(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const c of u[l])ol(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const h=[];for(const p of n.slice(o))p==="*"?h.push(d):h.push(p);a(l,h,f)}for(const d of u)delete l[d]}}else{const l=t;i in l&&ol(l[i],e,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ha(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sy(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function ly(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],uy(l)),e}function ay(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],cy(l)),e}function uy(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>dy(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function cy(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>fy(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function dy(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],vy(n)),e}function fy(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],xy(n)),e}function py(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function hy(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function my(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],gy(l)),e}function gy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function Op(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],yy(l)),e}function yy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function vy(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],ha(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function xy(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],ha(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zu;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zu||(zu={}));var Bu;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Bu||(Bu={}));var qu;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qu||(qu={}));var Le;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Le||(Le={}));var $u;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})($u||($u={}));var Ju;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ju||(Ju={}));var Ou;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ou||(Ou={}));var Wu;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Wu||(Wu={}));var Ku;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ku||(Ku={}));var Yu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Yu||(Yu={}));var Qu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Qu||(Qu={}));var Xu;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Xu||(Xu={}));var Zu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Zu||(Zu={}));var ju;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ju||(ju={}));var ec;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(ec||(ec={}));var tc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(tc||(tc={}));var nc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(nc||(nc={}));var oc;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oc||(oc={}));var rc;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(rc||(rc={}));var ic;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ic||(ic={}));var sc;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sc||(sc={}));var ii;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ii||(ii={}));var lc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lc||(lc={}));var ac;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(ac||(ac={}));var uc;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uc||(uc={}));var rl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(rl||(rl={}));var cc;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(cc||(cc={}));var dc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(dc||(dc={}));var il;(function(t){t.COLLECTION="COLLECTION"})(il||(il={}));var fc;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(fc||(fc={}));var pc;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pc||(pc={}));var hc;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(hc||(hc={}));var mc;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(mc||(mc={}));var gc;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(gc||(gc={}));var yc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yc||(yc={}));var vc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vc||(vc={}));var xc;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xc||(xc={}));var wc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wc||(wc={}));var Sc;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Sc||(Sc={}));var Ec;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Ec||(Ec={}));var Tc;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Tc||(Tc={}));var Cc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Cc||(Cc={}));var _c;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(_c||(_c={}));var Ic;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ic||(Ic={}));var Nc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Nc||(Nc={}));var Ac;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Ac||(Ac={}));var kc;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(kc||(kc={}));var Rc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Rc||(Rc={}));var Mc;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Mc||(Mc={}));var Pc;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Pc||(Pc={}));var Dc;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Dc||(Dc={}));var Lc;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Lc||(Lc={}));var Uc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Uc||(Uc={}));var Fc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Fc||(Fc={}));var Vc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Vc||(Vc={}));var bc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(bc||(bc={}));var Ln;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ln||(Ln={}));class sl{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class po{get text(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,w]of Object.entries(p))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(w!==null||w!==void 0)&&h.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,g]of Object.entries(h))p!=="inlineData"&&(g!==null||g!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Gc{}class Hc{}class wy{}class Sy{}class Ey{}class Ty{}class zc{}class Bc{}class qc{}class Cy{}class si{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new si;let r;const i=e;return n?r=ay(i):r=ly(i),Object.assign(o,r),o}}class $c{}class Jc{}class Oc{}class Wc{}class _y{}class Iy{}class Ny{}class ma{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new ma,i=my(e);return Object.assign(o,i),o}}class Ay{}class ky{}class Ry{}class Kc{}class My{get text(){var e,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="";const i=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Py{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ga{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new ga,i=Op(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Wp(t,e){const n=O(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Kp(t){return Array.isArray(t)?t.map(e=>li(e)):[li(t)]}function li(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Yp(t){const e=li(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qp(t){const e=li(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Yc(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Xp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Yc(e)):[Yc(t)]}function ll(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Qc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Xc(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ke(t){if(t==null)throw new Error("ContentUnion is required");return ll(t)?t:{role:"user",parts:Xp(t)}}function ya(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=ke(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=ke(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ke(n)):[ke(e)]}function et(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Qc(t)||Xc(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ke(t)]}const e=[],n=[],o=ll(t[0]);for(const r of t){const i=ll(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(Qc(r)||Xc(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:Xp(n)}),e}function Dy(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Le).includes(n[0].toUpperCase())?n[0].toUpperCase():Le.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Le).includes(o.toUpperCase())?o.toUpperCase():Le.TYPE_UNSPECIFIED})}}function Bn(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Dy(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Le).includes(u.toUpperCase())?u.toUpperCase():Le.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Bn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Bn(d))}e[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Bn(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function va(t){return Bn(t)}function xa(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wa(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function to(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Bn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Bn(e.response));return t}function no(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Ly(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Dt(t,e){if(typeof e!="string")throw new Error("name must be a string");return Ly(t,e,"cachedContents")}function Zp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function en(t){return ha(t)}function Uy(t){return t!=null&&typeof t=="object"&&"name"in t}function Fy(t){return t!=null&&typeof t=="object"&&"video"in t}function Vy(t){return t!=null&&typeof t=="object"&&"uri"in t}function jp(t){var e;let n;if(Uy(t)&&(n=t.name),!(Vy(t)&&(n=t.uri,n===void 0))&&!(Fy(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function eh(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function th(t){for(const e of["models","tunedModels","publisherModels"])if(by(t,e))return t[e];return[]}function by(t,e){return t!==null&&typeof t=="object"&&e in t}function Gy(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Hy(t,e={}){const n=[],o=new Set;for(const r of t){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=Gy(r,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function nh(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function zy(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function oh(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function oo(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function rh(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function By(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ev(l))),a(e,["inlinedResponses"],i)}const r=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function qy(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function $y(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dr(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["metadata","state"]);r!=null&&a(e,["state"],rh(r));const i=s(t,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(t,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(t,["metadata","output"]);return d!=null&&a(e,["dest"],By(oh(d))),e}function al(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["state"]);r!=null&&a(e,["state"],rh(r));const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const h=s(t,["inputConfig"]);h!=null&&a(e,["src"],Jy(h));const p=s(t,["outputConfig"]);p!=null&&a(e,["dest"],qy(oh(p)));const g=s(t,["completionStats"]);return g!=null&&a(e,["completionStats"],g),e}function Jy(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function Oy(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Sv(t,l))),a(n,["requests","requests"],i)}return n}function Wy(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Ky(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Yy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],oo(t,o)),n}function Qy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],oo(t,o)),n}function Xy(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],Zy(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),a(e,["safetyRatings"],p)}const h=s(t,["urlContextMetadata"]);return h!=null&&a(e,["urlContextMetadata"],h),e}function Zy(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function ih(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kv(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function jy(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ev(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],$y(zy(r))),n}function Zc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],Oy(t,nh(t,r)));const i=s(e,["config"]);return i!=null&&jy(i,n),n}function tv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],O(t,o));const r=s(e,["src"]);r!=null&&a(n,["inputConfig"],Wy(nh(t,r)));const i=s(e,["config"]);return i!=null&&ev(i,n),n}function nv(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function ov(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],cv(t,r));const i=s(e,["config"]);return i!=null&&nv(i,n),n}function rv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],oo(t,o)),n}function iv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],oo(t,o)),n}function sv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function lv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function av(t,e){const n={},o=s(e,["contents"]);if(o!=null){let i=ya(t,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(a(n,["_self"],uv(r,n)),iy(n,{"requests[].*":"requests[].request.*"})),n}function uv(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cv(t,e){const n={},o=s(e,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&a(n,["requests"],av(t,r)),n}function dv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function fv(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pv(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function hv(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],ih(ke(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const w=s(e,["frequencyPenalty"]);w!=null&&a(o,["frequencyPenalty"],w);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const E=s(e,["responseMimeType"]);E!=null&&a(o,["responseMimeType"],E);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],va(y));const v=s(e,["responseJsonSchema"]);if(v!=null&&a(o,["responseJsonSchema"],v),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=s(e,["safetySettings"]);if(n!==void 0&&x!=null){let F=x;Array.isArray(F)&&(F=F.map(de=>Rv(de))),a(n,["safetySettings"],F)}const T=s(e,["tools"]);if(n!==void 0&&T!=null){let F=no(T);Array.isArray(F)&&(F=F.map(de=>Pv(to(de)))),a(n,["tools"],F)}const C=s(e,["toolConfig"]);if(n!==void 0&&C!=null&&a(n,["toolConfig"],Mv(C)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);n!==void 0&&I!=null&&a(n,["cachedContent"],Dt(t,I));const _=s(e,["responseModalities"]);_!=null&&a(o,["responseModalities"],_);const N=s(e,["mediaResolution"]);N!=null&&a(o,["mediaResolution"],N);const k=s(e,["speechConfig"]);if(k!=null&&a(o,["speechConfig"],xa(k)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=s(e,["thinkingConfig"]);R!=null&&a(o,["thinkingConfig"],R);const z=s(e,["imageConfig"]);z!=null&&a(o,["imageConfig"],wv(z));const J=s(e,["enableEnhancedCivicAnswers"]);if(J!=null&&a(o,["enableEnhancedCivicAnswers"],J),s(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function mv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Xy(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function gv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],oo(t,o)),n}function yv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],oo(t,o)),n}function vv(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function xv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function wv(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Sv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["request","model"],O(t,o));const r=s(e,["contents"]);if(r!=null){let u=et(r);Array.isArray(u)&&(u=u.map(c=>ih(c))),a(n,["request","contents"],u)}const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],hv(t,l,s(n,["request"],{}))),n}function Ev(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],mv(n));const o=s(t,["error"]);return o!=null&&a(e,["error"],o),e}function Tv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Cv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(t,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),n}function _v(t){const e={},n=s(t,["config"]);return n!=null&&Tv(n,e),e}function Iv(t){const e={},n=s(t,["config"]);return n!=null&&Cv(n,e),e}function Nv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Dr(l))),a(e,["batchJobs"],i)}return e}function Av(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>al(l))),a(e,["batchJobs"],i)}return e}function kv(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],dv(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],fv(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Ky(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function Rv(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function Mv(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],pv(o)),e}function Pv(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],vv(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],xv(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Rt||(Rt={}));class xn{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dv extends Pt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xn(Rt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Zc(this.apiClient,e),o=n._url,r=M("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const h=Object.assign({},f);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const g=h.request;g.systemInstruction=p,h.request=g}d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=tv(this.apiClient,e);return u=M("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>al(f))}else{const d=Zc(this.apiClient,e);return u=M("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Dr(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ov(this.apiClient,e);return i=M("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Dr(c))}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=yv(this.apiClient,e);return u=M("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>al(f))}else{const d=gv(this.apiClient,e);return u=M("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Dr(f))}}async cancel(e){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=Qy(this.apiClient,e);l=M("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Yy(this.apiClient,e);l=M("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Iv(e);return u=M("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Av(f),p=new Kc;return Object.assign(p,h),p})}else{const d=_v(e);return u=M("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Nv(f),p=new Kc;return Object.assign(p,h),p})}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=iv(this.apiClient,e);return u=M("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>lv(f))}else{const d=rv(this.apiClient,e);return u=M("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>sv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lv(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function jc(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>ox(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Uv(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=et(l);Array.isArray(f)&&(f=f.map(h=>jc(h))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],jc(ke(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>ix(h))),a(e,["tools"],f)}const d=s(t,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],rx(d)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Fv(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let h=et(l);Array.isArray(h)&&(h=h.map(p=>p)),a(e,["contents"],h)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],ke(u));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>sx(p))),a(e,["tools"],h)}const d=s(t,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function Vv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],Wp(t,o));const r=s(e,["config"]);return r!=null&&Uv(r,n),n}function bv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],Wp(t,o));const r=s(e,["config"]);return r!=null&&Fv(r,n),n}function Gv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Dt(t,o)),n}function Hv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Dt(t,o)),n}function zv(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Bv(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function qv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function $v(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jv(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Ov(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Wv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Dt(t,o)),n}function Kv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Dt(t,o)),n}function Yv(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Qv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Xv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function Zv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function jv(t){const e={},n=s(t,["config"]);return n!=null&&Xv(n,e),e}function ex(t){const e={},n=s(t,["config"]);return n!=null&&Zv(n,e),e}function tx(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function nx(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function ox(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],qv(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],$v(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Lv(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function rx(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],Jv(o)),e}function ix(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],Yv(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],Qv(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function sx(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Ov(p))),a(e,["functionDeclarations"],h)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function lx(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function ax(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function ux(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Dt(t,o));const r=s(e,["config"]);return r!=null&&lx(r,n),n}function cx(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Dt(t,o));const r=s(e,["config"]);return r!=null&&ax(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dx extends Pt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xn(Rt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=bv(this.apiClient,e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Vv(this.apiClient,e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Kv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Wv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Hv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Bv(f),p=new Oc;return Object.assign(p,h),p})}else{const d=Gv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=zv(f),p=new Oc;return Object.assign(p,h),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=cx(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=ux(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ex(e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=nx(f),p=new Wc;return Object.assign(p,h),p})}else{const d=jv(e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=tx(f),p=new Wc;return Object.assign(p,h),p})}}}function ai(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function ed(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(t){return this instanceof G?(this.v=t,this):new G(t)}function ct(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(g){return function(w){return Promise.resolve(w).then(g,h)}}function u(g,w){o[g]&&(r[g]=function(S){return new Promise(function(E,y){i.push([g,S,E,y])>1||c(g,S)})},w&&(r[g]=w(r[g])))}function c(g,w){try{d(o[g](w))}catch(S){p(i[0][3],S)}}function d(g){g.value instanceof G?Promise.resolve(g.value.v).then(f,h):p(i[0][2],g)}function f(g){c("next",g)}function h(g){c("throw",g)}function p(g,w){g(w),i.shift(),i.length&&c(i[0][0],i[0][1])}}function dt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ed=="function"?ed(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(l){return new Promise(function(u,c){l=t[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fx(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sh(n)}function sh(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function px(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function td(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!sh(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class hx{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new mx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class mx{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),px(i)}async sendMessage(e){var n;await this.sendPromise;const o=ke(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(h))!==null&&u!==void 0?u:[]);const g=d?[d]:[];this.recordHistory(o,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=ke(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const n=e?td(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ct(this,arguments,function*(){var r,i,l,u,c,d;const f=[];try{for(var h=!0,p=dt(e),g;g=yield G(p.next()),r=g.done,!r;h=!0){u=g.value,h=!1;const w=u;if(fx(w)){const S=(d=(c=w.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;S!==void 0&&f.push(S)}yield yield G(w)}}catch(w){i={error:w}}finally{try{!h&&!r&&(l=p.return)&&(yield G(l.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...td(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Oo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Oo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function yx(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function vx(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],jp(n)),e}function xx(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function wx(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],jp(n)),e}function Sx(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function Ex(t){const e={},n=s(t,["config"]);return n!=null&&Sx(n,e),e}function Tx(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cx extends Pt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xn(Rt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ex(e);return i=M("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=Tx(c),f=new Ay;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gx(e);return i=M("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=yx(c),f=new ky;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wx(e);return i=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vx(e);return i=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=xx(c),f=new Ry;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lr(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function _x(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zx(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Ix(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Nx(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ax(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function kx(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const h=s(t,["presencePenalty"]);h!=null&&a(e,["presencePenalty"],h);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const g=s(t,["responseMimeType"]);g!=null&&a(e,["responseMimeType"],g);const w=s(t,["responseModalities"]);w!=null&&a(e,["responseModalities"],w);const S=s(t,["responseSchema"]);S!=null&&a(e,["responseSchema"],S);const E=s(t,["routingConfig"]);E!=null&&a(e,["routingConfig"],E);const y=s(t,["seed"]);y!=null&&a(e,["seed"],y);const v=s(t,["speechConfig"]);v!=null&&a(e,["speechConfig"],v);const x=s(t,["stopSequences"]);x!=null&&a(e,["stopSequences"],x);const T=s(t,["temperature"]);T!=null&&a(e,["temperature"],T);const C=s(t,["thinkingConfig"]);C!=null&&a(e,["thinkingConfig"],C);const I=s(t,["topK"]);I!=null&&a(e,["topK"],I);const _=s(t,["topP"]);if(_!=null&&a(e,["topP"],_),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Rx(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Mx(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Px(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],wa(h));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);const w=s(t,["systemInstruction"]);e!==void 0&&w!=null&&a(e,["setup","systemInstruction"],_x(ke(w)));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let I=no(S);Array.isArray(I)&&(I=I.map(_=>qx(to(_)))),a(e,["setup","tools"],I)}const E=s(t,["sessionResumption"]);e!==void 0&&E!=null&&a(e,["setup","sessionResumption"],Bx(E));const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","outputAudioTranscription"],v);const x=s(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&a(e,["setup","realtimeInputConfig"],x);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const C=s(t,["proactivity"]);if(e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Dx(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],kx(o));const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],wa(h));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);const w=s(t,["systemInstruction"]);e!==void 0&&w!=null&&a(e,["setup","systemInstruction"],ke(w));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let _=no(S);Array.isArray(_)&&(_=_.map(N=>$x(to(N)))),a(e,["setup","tools"],_)}const E=s(t,["sessionResumption"]);e!==void 0&&E!=null&&a(e,["setup","sessionResumption"],E);const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","outputAudioTranscription"],v);const x=s(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&a(e,["setup","realtimeInputConfig"],x);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const C=s(t,["proactivity"]);e!==void 0&&C!=null&&a(e,["setup","proactivity"],C);const I=s(t,["explicitVadSignal"]);return e!==void 0&&I!=null&&a(e,["setup","explicitVadSignal"],I),n}function Lx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],O(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],Px(r,n)),n}function Ux(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],O(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],Dx(r,n)),n}function Fx(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function Vx(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function bx(t){const e={},n=s(t,["media"]);if(n!=null){let d=Kp(n);Array.isArray(d)&&(d=d.map(f=>Lr(f))),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Lr(Qp(o)));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Lr(Yp(i)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function Gx(t){const e={},n=s(t,["media"]);if(n!=null){let d=Kp(n);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Qp(o));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Yp(i));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function Hx(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const r=s(t,["toolCall"]);r!=null&&a(e,["toolCall"],r);const i=s(t,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],Jx(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(t,["sessionResumptionUpdate"]);c!=null&&a(e,["sessionResumptionUpdate"],c);const d=s(t,["voiceActivityDetectionSignal"]);d!=null&&a(e,["voiceActivityDetectionSignal"],d);const f=s(t,["voiceActivity"]);return f!=null&&a(e,["voiceActivity"],Ox(f)),e}function zx(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],Ix(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],Nx(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Lr(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function Bx(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qx(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],Rx(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],Mx(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function $x(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Ax(p))),a(e,["functionDeclarations"],h)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function Jx(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const r=s(t,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);const i=s(t,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(w=>w)),a(e,["promptTokensDetails"],g)}const d=s(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(w=>w)),a(e,["cacheTokensDetails"],g)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(w=>w)),a(e,["responseTokensDetails"],g)}const h=s(t,["toolUsePromptTokensDetails"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(w=>w)),a(e,["toolUsePromptTokensDetails"],g)}const p=s(t,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}function Ox(t){const e={},n=s(t,["type"]);return n!=null&&a(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wx(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Kx(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],Yx(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>g)),a(e,["safetyRatings"],p)}const h=s(t,["urlContextMetadata"]);return h!=null&&a(e,["urlContextMetadata"],h),e}function Yx(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function Qx(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["contents"]);if(r!=null){let i=et(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function Xx(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function Zx(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&a(e,["statistics"],jx(o)),e}function jx(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function Ni(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>aS(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function ew(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function tw(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function nw(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],ke(o));const r=s(t,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ch(u))),a(e,["tools"],l)}const i=s(t,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],Ww(i)),n}function ow(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["contents"]);if(r!=null){let l=et(r);Array.isArray(l)&&(l=l.map(u=>Ni(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&tw(i),n}function rw(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["contents"]);if(r!=null){let l=et(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&nw(i,n),n}function iw(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const r=s(t,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function sw(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function lw(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],O(t,o)),n}function aw(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],O(t,o)),n}function uw(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function cw(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function dw(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const g=s(t,["language"]);e!==void 0&&g!=null&&a(e,["parameters","language"],g);const w=s(t,["outputMimeType"]);e!==void 0&&w!=null&&a(e,["parameters","outputOptions","mimeType"],w);const S=s(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&a(e,["parameters","outputOptions","compressionQuality"],S);const E=s(t,["addWatermark"]);e!==void 0&&E!=null&&a(e,["parameters","addWatermark"],E);const y=s(t,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);const v=s(t,["editMode"]);e!==void 0&&v!=null&&a(e,["parameters","editMode"],v);const x=s(t,["baseSteps"]);return e!==void 0&&x!=null&&a(e,["parameters","editConfig","baseSteps"],x),n}function fw(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>hS(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&dw(l,n),n}function pw(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ai(i))),a(e,["generatedImages"],r)}return e}function hw(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function mw(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);const i=s(t,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function gw(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["contents"]);if(r!=null){let u=ya(t,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(e,["config"]);i!=null&&hw(i,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],O(t,l)),n}function yw(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["contents"]);if(r!=null){let l=ya(t,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&mw(i,n),n}function vw(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function xw(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Zx(l))),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function ww(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function Sw(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ew(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tw(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Cw(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function _w(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Ni(ke(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const w=s(e,["frequencyPenalty"]);w!=null&&a(o,["frequencyPenalty"],w);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const E=s(e,["responseMimeType"]);E!=null&&a(o,["responseMimeType"],E);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],va(y));const v=s(e,["responseJsonSchema"]);if(v!=null&&a(o,["responseJsonSchema"],v),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=s(e,["safetySettings"]);if(n!==void 0&&x!=null){let F=x;Array.isArray(F)&&(F=F.map(de=>mS(de))),a(n,["safetySettings"],F)}const T=s(e,["tools"]);if(n!==void 0&&T!=null){let F=no(T);Array.isArray(F)&&(F=F.map(de=>ES(to(de)))),a(n,["tools"],F)}const C=s(e,["toolConfig"]);if(n!==void 0&&C!=null&&a(n,["toolConfig"],SS(C)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(e,["cachedContent"]);n!==void 0&&I!=null&&a(n,["cachedContent"],Dt(t,I));const _=s(e,["responseModalities"]);_!=null&&a(o,["responseModalities"],_);const N=s(e,["mediaResolution"]);N!=null&&a(o,["mediaResolution"],N);const k=s(e,["speechConfig"]);if(k!=null&&a(o,["speechConfig"],xa(k)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=s(e,["thinkingConfig"]);R!=null&&a(o,["thinkingConfig"],R);const z=s(e,["imageConfig"]);z!=null&&a(o,["imageConfig"],Zw(z));const J=s(e,["enableEnhancedCivicAnswers"]);if(J!=null&&a(o,["enableEnhancedCivicAnswers"],J),s(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function Iw(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],ke(r));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const w=s(e,["frequencyPenalty"]);w!=null&&a(o,["frequencyPenalty"],w);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const E=s(e,["responseMimeType"]);E!=null&&a(o,["responseMimeType"],E);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],va(y));const v=s(e,["responseJsonSchema"]);v!=null&&a(o,["responseJsonSchema"],v);const x=s(e,["routingConfig"]);x!=null&&a(o,["routingConfig"],x);const T=s(e,["modelSelectionConfig"]);T!=null&&a(o,["modelConfig"],T);const C=s(e,["safetySettings"]);if(n!==void 0&&C!=null){let ee=C;Array.isArray(ee)&&(ee=ee.map(P=>P)),a(n,["safetySettings"],ee)}const I=s(e,["tools"]);if(n!==void 0&&I!=null){let ee=no(I);Array.isArray(ee)&&(ee=ee.map(P=>ch(to(P)))),a(n,["tools"],ee)}const _=s(e,["toolConfig"]);n!==void 0&&_!=null&&a(n,["toolConfig"],_);const N=s(e,["labels"]);n!==void 0&&N!=null&&a(n,["labels"],N);const k=s(e,["cachedContent"]);n!==void 0&&k!=null&&a(n,["cachedContent"],Dt(t,k));const R=s(e,["responseModalities"]);R!=null&&a(o,["responseModalities"],R);const z=s(e,["mediaResolution"]);z!=null&&a(o,["mediaResolution"],z);const J=s(e,["speechConfig"]);J!=null&&a(o,["speechConfig"],xa(J));const F=s(e,["audioTimestamp"]);F!=null&&a(o,["audioTimestamp"],F);const de=s(e,["thinkingConfig"]);de!=null&&a(o,["thinkingConfig"],de);const Se=s(e,["imageConfig"]);if(Se!=null&&a(o,["imageConfig"],jw(Se)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Ee=s(e,["modelArmorConfig"]);return n!==void 0&&Ee!=null&&a(n,["modelArmorConfig"],Ee),o}function nd(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["contents"]);if(r!=null){let l=et(r);Array.isArray(l)&&(l=l.map(u=>Ni(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],_w(t,i,n)),n}function od(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["contents"]);if(r!=null){let l=et(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],Iw(t,i,n)),n}function rd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Kx(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function id(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function Nw(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const i=s(t,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(t,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const h=s(t,["outputMimeType"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","mimeType"],h);const p=s(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=s(t,["imageSize"]);if(e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Aw(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const g=s(t,["language"]);e!==void 0&&g!=null&&a(e,["parameters","language"],g);const w=s(t,["outputMimeType"]);e!==void 0&&w!=null&&a(e,["parameters","outputOptions","mimeType"],w);const S=s(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&a(e,["parameters","outputOptions","compressionQuality"],S);const E=s(t,["addWatermark"]);e!==void 0&&E!=null&&a(e,["parameters","addWatermark"],E);const y=s(t,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);const v=s(t,["imageSize"]);e!==void 0&&v!=null&&a(e,["parameters","sampleImageSize"],v);const x=s(t,["enhancePrompt"]);return e!==void 0&&x!=null&&a(e,["parameters","enhancePrompt"],x),n}function kw(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&Nw(i,n),n}function Rw(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&Aw(i,n),n}function Mw(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>qw(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],ah(r)),e}function Pw(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ai(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],uh(r)),e}function Dw(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(t,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],ki(f));const h=s(t,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(g=>US(g))),a(e,["instances[0]","referenceImages"],p)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Lw(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const i=s(t,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(t,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["pubsubTopic"]);e!==void 0&&h!=null&&a(e,["parameters","pubsubTopic"],h);const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const g=s(t,["enhancePrompt"]);e!==void 0&&g!=null&&a(e,["parameters","enhancePrompt"],g);const w=s(t,["generateAudio"]);e!==void 0&&w!=null&&a(e,["parameters","generateAudio"],w);const S=s(t,["lastFrame"]);e!==void 0&&S!=null&&a(e,["instances[0]","lastFrame"],pt(S));const E=s(t,["referenceImages"]);if(e!==void 0&&E!=null){let x=E;Array.isArray(x)&&(x=x.map(T=>FS(T))),a(e,["instances[0]","referenceImages"],x)}const y=s(t,["mask"]);e!==void 0&&y!=null&&a(e,["instances[0]","mask"],LS(y));const v=s(t,["compressionQuality"]);return e!==void 0&&v!=null&&a(e,["parameters","compressionQuality"],v),n}function Uw(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Gw(l)),e}function Fw(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],Hw(l)),e}function Vw(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],ki(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],dh(l));const u=s(e,["source"]);u!=null&&zw(u,n);const c=s(e,["config"]);return c!=null&&Dw(c,n),n}function bw(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],pt(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],fh(l));const u=s(e,["source"]);u!=null&&Bw(u,n);const c=s(e,["config"]);return c!=null&&Lw(c,n),n}function Gw(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Jw(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function Hw(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Ow(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function zw(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],ki(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],dh(i)),n}function Bw(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],pt(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],fh(i)),n}function qw(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],eS(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);return r!=null&&a(e,["safetyAttributes"],ah(r)),e}function Ai(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],lh(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);r!=null&&a(e,["safetyAttributes"],uh(r));const i=s(t,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function $w(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],lh(n));const o=s(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function Jw(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],PS(n)),e}function Ow(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],DS(n)),e}function Ww(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const h=s(t,["presencePenalty"]);h!=null&&a(e,["presencePenalty"],h);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const g=s(t,["responseMimeType"]);g!=null&&a(e,["responseMimeType"],g);const w=s(t,["responseModalities"]);w!=null&&a(e,["responseModalities"],w);const S=s(t,["responseSchema"]);S!=null&&a(e,["responseSchema"],S);const E=s(t,["routingConfig"]);E!=null&&a(e,["routingConfig"],E);const y=s(t,["seed"]);y!=null&&a(e,["seed"],y);const v=s(t,["speechConfig"]);v!=null&&a(e,["speechConfig"],v);const x=s(t,["stopSequences"]);x!=null&&a(e,["stopSequences"],x);const T=s(t,["temperature"]);T!=null&&a(e,["temperature"],T);const C=s(t,["thinkingConfig"]);C!=null&&a(e,["thinkingConfig"],C);const I=s(t,["topK"]);I!=null&&a(e,["topK"],I);const _=s(t,["topP"]);if(_!=null&&a(e,["topP"],_),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Kw(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],O(t,o)),n}function Yw(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],O(t,o)),n}function Qw(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Xw(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Zw(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function jw(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);o!=null&&a(e,["imageSize"],o);const r=s(t,["personGeneration"]);r!=null&&a(e,["personGeneration"],r);const i=s(t,["outputMimeType"]);i!=null&&a(e,["imageOutputOptions","mimeType"],i);const l=s(t,["outputCompressionQuality"]);return l!=null&&a(e,["imageOutputOptions","compressionQuality"],l),e}function eS(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],en(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function lh(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],en(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function ki(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],en(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function pt(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],en(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function tS(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],eh(t,u)),o}function nS(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],eh(t,u)),o}function oS(t,e){const n={},o=s(e,["config"]);return o!=null&&tS(t,o,n),n}function rS(t,e){const n={},o=s(e,["config"]);return o!=null&&nS(t,o,n),n}function iS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=th(r);Array.isArray(i)&&(i=i.map(l=>ul(l))),a(e,["models"],i)}return e}function sS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=th(r);Array.isArray(i)&&(i=i.map(l=>cl(l))),a(e,["models"],i)}return e}function lS(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const r=s(t,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function ul(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["version"]);i!=null&&a(e,["version"],i);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],TS(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(t,["supportedGenerationMethods"]);d!=null&&a(e,["supportedActions"],d);const f=s(t,["temperature"]);f!=null&&a(e,["temperature"],f);const h=s(t,["maxTemperature"]);h!=null&&a(e,["maxTemperature"],h);const p=s(t,["topP"]);p!=null&&a(e,["topP"],p);const g=s(t,["topK"]);g!=null&&a(e,["topK"],g);const w=s(t,["thinking"]);return w!=null&&a(e,["thinking"],w),e}function cl(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["versionId"]);i!=null&&a(e,["version"],i);const l=s(t,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>ww(p))),a(e,["endpoints"],h)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const c=s(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],CS(c));const d=s(t,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(t,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>p)),a(e,["checkpoints"],h)}return e}function aS(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],Sw(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],Ew(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Wx(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function uS(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],pt(n)),e}function cS(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","baseSteps"],r);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(t,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const h=s(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h);const p=s(t,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const g=s(t,["labels"]);return e!==void 0&&g!=null&&a(e,["labels"],g),n}function dS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["source"]);r!=null&&pS(r,n);const i=s(e,["config"]);return i!=null&&cS(i,n),n}function fS(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ai(r))),a(e,["generatedImages"],o)}return e}function pS(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],pt(r));const i=s(t,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>uS(u))),a(e,["instances[0]","productImages"],l)}return n}function hS(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],pt(n));const o=s(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const r=s(t,["referenceType"]);r!=null&&a(e,["referenceType"],r);const i=s(t,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],lS(i));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],ew(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function ah(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function uh(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function mS(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function gS(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],pt(n)),e}function yS(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const r=s(t,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);const i=s(t,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(t,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),n}function vS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["source"]);r!=null&&wS(r,n);const i=s(e,["config"]);return i!=null&&yS(i,n),n}function xS(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>$w(r))),a(e,["generatedMasks"],o)}return e}function wS(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],pt(r));const i=s(t,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],gS(i)),n}function SS(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],Tw(o)),e}function ES(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],Qw(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],Xw(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function ch(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Cw(p))),a(e,["functionDeclarations"],h)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function TS(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function CS(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function _S(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function IS(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function NS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],O(t,o));const r=s(e,["config"]);return r!=null&&_S(r,n),n}function AS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["config"]);return r!=null&&IS(r,n),n}function kS(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);const i=s(t,["personGeneration"]);e!==void 0&&i!=null&&a(e,["parameters","personGeneration"],i);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const c=s(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=s(t,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=s(t,["labels"]);e!==void 0&&h!=null&&a(e,["labels"],h);const p=s(t,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const g=s(t,["mode"]);return e!==void 0&&g!=null&&a(e,["parameters","mode"],g),n}function RS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],O(t,o));const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],pt(r));const i=s(e,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&kS(l,n),n}function MS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ai(i))),a(e,["generatedImages"],r)}return e}function PS(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],en(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function DS(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],en(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function LS(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],pt(n));const o=s(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function US(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],ki(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function FS(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],pt(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function dh(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],en(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function fh(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],en(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VS(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),n}function bS(t){const e={},n=s(t,["config"]);return n!=null&&VS(n,e),e}function GS(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function HS(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&GS(o,e),e}function zS(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function BS(t,e){const n={},o=s(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["customMetadata"],i)}const r=s(t,["chunkingConfig"]);return e!==void 0&&r!=null&&a(e,["chunkingConfig"],r),n}function qS(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],JS(l)),e}function $S(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["fileName"]);o!=null&&a(e,["fileName"],o);const r=s(t,["config"]);return r!=null&&BS(r,e),e}function JS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function OS(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function WS(t){const e={},n=s(t,["config"]);return n!=null&&OS(n,e),e}function KS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["fileSearchStores"],i)}return e}function ph(t,e){const n={},o=s(t,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const i=s(t,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["customMetadata"],u)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function YS(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["config"]);return o!=null&&ph(o,e),e}function QS(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XS="Content-Type",ZS="X-Server-Timeout",jS="User-Agent",dl="x-goog-api-client",eE="1.38.0",tE=`google-genai-sdk/${eE}`,nE="v1beta1",oE="v1beta";class rE{constructor(e){var n,o,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:nE}else{if(!this.clientOptions.apiKey)throw new Oo({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:oE,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===il.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return n&&n.extraBody!==null&&iE(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await sd(r),new sl(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await sd(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return ct(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield G(r.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=i.decode(f,{stream:!0});try{const w=JSON.parse(h);if("error"in w){const S=JSON.parse(JSON.stringify(w.error)),E=S.status,y=S.code,v=`got status: ${E}. ${JSON.stringify(w)}`;if(y>=400&&y<600)throw new Oo({message:v,status:y})}}catch(w){if(w.name==="ApiError")throw w}l+=h;let p=-1,g=0;for(;;){p=-1,g=0;for(const E of c){const y=l.indexOf(E);y!==-1&&(p===-1||y<p)&&(p=y,g=E.length)}if(p===-1)break;const w=l.substring(0,p);l=l.substring(p+g);const S=w.trim();if(S.startsWith(u)){const E=S.substring(u.length).trim();try{const y=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield G(new sl(y))}catch(y){throw new Error(`exception parsing stream chunk ${E}. ${y}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=tE+" "+this.clientOptions.userAgentExtra;return e[jS]=n,e[dl]=n,e[XS]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(ZS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(e),f=M("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),h={};o!=null&&ph(o,h);const p=await this.fetchUploadUrl(d,u,c,f,h,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function sd(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new Oo({message:r,status:n}):new Error(r)}}function iE(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sE="mcp_used/unknown";let lE=!1;function hh(t){for(const e of t)if(aE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return lE}function mh(t){var e;const n=(e=t[dl])!==null&&e!==void 0?e:"";t[dl]=(n+` ${sE}`).trimStart()}function aE(t){return t!==null&&typeof t=="object"&&t instanceof Sa}function uE(t){return ct(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const l=yield G(n.listTools({cursor:r}));for(const u of l.tools)yield yield G(u),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class Sa{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Sa(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,dt(uE(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const h=r;l.push(h);const p=h.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(h){n={error:h}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Hy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function cE(t,e,n){const o=new Py;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class dE{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=hE(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(x=>{d=x}),h=e.callbacks,p=function(){d({})},g=this.apiClient,w={onopen:p,onmessage:x=>{cE(g,h.onmessage,x)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(x){}},S=this.webSocketFactory.create(c,pE(l),w);S.connect(),await f;const v={setup:{model:O(this.apiClient,e.model)}};return S.send(JSON.stringify(v)),new fE(S,this.apiClient)}}class fE{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Vx(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Fx(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ln.PLAY)}pause(){this.sendPlaybackControl(Ln.PAUSE)}stop(){this.sendPlaybackControl(Ln.STOP)}resetContext(){this.sendPlaybackControl(Ln.RESET_CONTEXT)}close(){this.conn.close()}}function pE(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function hE(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gE(t,e,n){const o=new My;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(t.isVertexAI()){const l=Hx(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class yE{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new dE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&hh(e.config.tools)&&mh(h);const p=SE(h);if(this.apiClient.isVertexAI()){const k=this.apiClient.getProject(),R=this.apiClient.getLocation(),z=this.apiClient.getApiKey(),J=!!k&&!!R||!!z;this.apiClient.getCustomBaseUrl()&&!J?f=c:(f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f))}else{const k=this.apiClient.getApiKey();let R="BidiGenerateContent",z="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",z="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${R}?${z}=${k}`}let g=()=>{};const w=new Promise(k=>{g=k}),S=e.callbacks,E=function(){var k;(k=S==null?void 0:S.onopen)===null||k===void 0||k.call(S),g({})},y=this.apiClient,v={onopen:E,onmessage:k=>{gE(y,S.onmessage,k)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(k){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(k){}},x=this.webSocketFactory.create(f,wE(p),v);x.connect(),await w;let T=O(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const k=this.apiClient.getProject(),R=this.apiClient.getLocation();k&&R&&(T=`projects/${k}/locations/${R}/`+T)}let C={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ii.AUDIO]}:e.config.responseModalities=[ii.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],_=[];for(const k of I)if(this.isCallableTool(k)){const R=k;_.push(await R.tool())}else _.push(k);_.length>0&&(e.config.tools=_);const N={model:T,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?C=Ux(this.apiClient,N):C=Lx(this.apiClient,N),delete C.config,x.send(JSON.stringify(C)),new xE(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vE={turnComplete:!0};class xE{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=et(n.turns),e.isVertexAI()||(o=o.map(r=>Ni(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(mE)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},vE),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Gx(e)}:n={realtimeInput:bx(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function wE(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function SE(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ld=10;function ad(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(qn(l)){r=!0;break}if(!r)return!0;const i=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function qn(t){return"callTool"in t&&typeof t.callTool=="function"}function EE(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>qn(r)))!==null&&o!==void 0?o:!1}function ud(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(qn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function cd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TE extends Pt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!EE(n)||ad(n.config))return await this.generateContentInternal(c);const d=ud(n);if(d.length>0){const S=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let f,h;const p=et(c.contents),g=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:ld;let w=0;for(;w<g&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,E=[];for(const y of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(qn(y)){const x=await y.callTool(f.functionCalls);E.push(...x)}w++,h={role:"user",parts:E},c.contents=et(c.contents),c.contents.push(S),c.contents.push(h),cd(c.config)&&(p.push(S),p.push(h))}return cd(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),ad(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=ud(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new xn(Rt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const l=await Promise.all(i.map(async c=>qn(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&hh(e.config.tools)){const c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),mh(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,r;const i=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(qn(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,o,r;const i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:ld;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,h){return ct(this,arguments,function*(){for(var p,g,w,S,E,y;u<i;){l&&(u++,l=!1);const C=yield G(d.processParamsMaybeAddMcpUsage(h)),I=yield G(d.generateContentStreamInternal(C)),_=[],N=[];try{for(var v=!0,x=(g=void 0,dt(I)),T;T=yield G(x.next()),p=T.done,!p;v=!0){S=T.value,v=!1;const k=S;if(yield yield G(k),k.candidates&&(!((E=k.candidates[0])===null||E===void 0)&&E.content)){N.push(k.candidates[0].content);for(const R of(y=k.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<i&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(R.functionCall.name)){const z=yield G(f.get(R.functionCall.name).callTool([R.functionCall]));_.push(...z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(k){g={error:k}}finally{try{!v&&!p&&(w=x.return)&&(yield G(w.call(x)))}finally{if(g)throw g.error}}if(_.length>0){l=!0;const k=new po;k.candidates=[{content:{role:"user",parts:_}}],yield yield G(k);const R=[];R.push(...N),R.push({role:"user",parts:_});const z=et(h.contents).concat(R);h.contents=z}else break}})}(this,c,e)}async generateContentInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=od(this.apiClient,e);return u=M("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=id(f),p=new po;return Object.assign(p,h),p})}else{const d=nd(this.apiClient,e);return u=M("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=rd(f),p=new po;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=od(this.apiClient,e);return u=M("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(h){return ct(this,arguments,function*(){var p,g,w,S;try{for(var E=!0,y=dt(h),v;v=yield G(y.next()),p=v.done,!p;E=!0){S=v.value,E=!1;const x=S,T=id(yield G(x.json()));T.sdkHttpResponse={headers:x.headers};const C=new po;Object.assign(C,T),yield yield G(C)}}catch(x){g={error:x}}finally{try{!E&&!p&&(w=y.return)&&(yield G(w.call(y)))}finally{if(g)throw g.error}}})})}else{const d=nd(this.apiClient,e);return u=M("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(h){return ct(this,arguments,function*(){var p,g,w,S;try{for(var E=!0,y=dt(h),v;v=yield G(y.next()),p=v.done,!p;E=!0){S=v.value,E=!1;const x=S,T=rd(yield G(x.json()));T.sdkHttpResponse={headers:x.headers};const C=new po;Object.assign(C,T),yield yield G(C)}}catch(x){g={error:x}}finally{try{!E&&!p&&(w=y.return)&&(yield G(w.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=yw(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=xw(f),p=new Gc;return Object.assign(p,h),p})}else{const d=gw(this.apiClient,e);return u=M("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=vw(f),p=new Gc;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Rw(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Pw(f),p=new Hc;return Object.assign(p,h),p})}else{const d=kw(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Mw(f),p=new Hc;return Object.assign(p,h),p})}}async editImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=fw(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=pw(c),f=new wy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=RS(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=MS(c),f=new Sy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=dS(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=fS(c),f=new Ey;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=vS(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=xS(c),f=new Ty;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Yw(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>cl(f))}else{const d=Kw(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>ul(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=rS(this.apiClient,e);return u=M("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=sS(f),p=new zc;return Object.assign(p,h),p})}else{const d=oS(this.apiClient,e);return u=M("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=iS(f),p=new zc;return Object.assign(p,h),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=AS(this.apiClient,e);return u=M("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>cl(f))}else{const d=NS(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>ul(f))}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=aw(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=cw(f),p=new Bc;return Object.assign(p,h),p})}else{const d=lw(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=uw(f),p=new Bc;return Object.assign(p,h),p})}}async countTokens(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=rw(this.apiClient,e);return u=M("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=sw(f),p=new qc;return Object.assign(p,h),p})}else{const d=ow(this.apiClient,e);return u=M("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=iw(f),p=new qc;return Object.assign(p,h),p})}}async computeTokens(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Qx(this.apiClient,e);return i=M("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=Xx(c),f=new Cy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=bw(this.apiClient,e);return u=M("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const h=Fw(f),p=new si;return Object.assign(p,h),p})}else{const d=Vw(this.apiClient,e);return u=M("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const h=Uw(f),p=new si;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CE extends Pt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=hy(e);return u=M("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=py(e);return u=M("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=sy(e);return i=M("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _E(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function IE(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>UE(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function NE(t,e,n){const o={},r=s(e,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],LE(t,u));const c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function AE(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],NE(t,o,n)),n}function kE(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function RE(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ME(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function PE(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function DE(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],wa(h));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);const w=s(t,["systemInstruction"]);e!==void 0&&w!=null&&a(e,["setup","systemInstruction"],IE(ke(w)));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let I=no(S);Array.isArray(I)&&(I=I.map(_=>VE(to(_)))),a(e,["setup","tools"],I)}const E=s(t,["sessionResumption"]);e!==void 0&&E!=null&&a(e,["setup","sessionResumption"],FE(E));const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const v=s(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&a(e,["setup","outputAudioTranscription"],v);const x=s(t,["realtimeInputConfig"]);e!==void 0&&x!=null&&a(e,["setup","realtimeInputConfig"],x);const T=s(t,["contextWindowCompression"]);e!==void 0&&T!=null&&a(e,["setup","contextWindowCompression"],T);const C=s(t,["proactivity"]);if(e!==void 0&&C!=null&&a(e,["setup","proactivity"],C),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function LE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],O(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],DE(r,n)),n}function UE(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],kE(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],RE(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],_E(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function FE(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function VE(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],ME(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],PE(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bE(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function GE(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const i=bE(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class HE extends Pt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=AE(this.apiClient,e);i=M("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=GE(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function BE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&zE(o,e),e}function qE(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function $E(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function JE(t){const e={},n=s(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const o=s(t,["config"]);return o!=null&&$E(o,e),e}function OE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE extends Pt{constructor(e){super(),this.apiClient=e,this.list=async n=>new xn(Rt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qE(e);return i=M("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=BE(e);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JE(e);return i=M("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=OE(c),f=new _y;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KE extends Pt{constructor(e,n=new WE(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new xn(Rt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bS(e);return i=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zS(e);return i=M("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=HS(e);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WS(e);return i=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=KS(c),f=new Iy;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YS(e);return i=M("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=QS(c),f=new Ny;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$S(e);return i=M("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=qS(c),f=new ma;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gh=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return gh=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const YE=()=>gh();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fl(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const pl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ot extends Error{}class Fe extends ot{constructor(e,n,o,r){super(`${Fe.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new Ri({message:o,cause:pl(n)});const i=n;return e===400?new vh(e,i,o,r):e===401?new xh(e,i,o,r):e===403?new wh(e,i,o,r):e===404?new Sh(e,i,o,r):e===409?new Eh(e,i,o,r):e===422?new Th(e,i,o,r):e===429?new Ch(e,i,o,r):e>=500?new _h(e,i,o,r):new Fe(e,i,o,r)}}class hl extends Fe{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ri extends Fe{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class yh extends Ri{constructor({message:e}={}){super({message:e??"Request timed out."})}}class vh extends Fe{}class xh extends Fe{}class wh extends Fe{}class Sh extends Fe{}class Eh extends Fe{}class Th extends Fe{}class Ch extends Fe{}class _h extends Fe{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QE=/^[a-z][a-z0-9+.-]*:/i,XE=t=>QE.test(t);let ml=t=>(ml=Array.isArray,ml(t));const ZE=ml;let jE=ZE;const dd=jE;function eT(t){if(!t)return!0;for(const e in t)return!1;return!0}function tT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const nT=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ot(`${t} must be an integer`);if(e<0)throw new ot(`${t} must be a positive integer`);return e},oT=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rT=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sn="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iT(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sT=()=>{var t,e,n,o,r;const i=iT();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sn,"X-Stainless-OS":pd(Deno.build.os),"X-Stainless-Arch":fd(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sn,"X-Stainless-OS":pd((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":fd((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=lT();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lT(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,l=o[3]||0;return{browser:e,version:`${r}.${i}.${l}`}}}return null}const fd=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",pd=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let mr;const aT=()=>mr??(mr=sT());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uT(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ih(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function cT(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Ih({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Nh(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function dT(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fT=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ah=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ls(t,e,n){return Ah(),new File(t,e??"unknown_file",n)}function pT(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const hT=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kh=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",mT=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&kh(t),gT=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function yT(t,e,n){if(Ah(),t=await t,mT(t))return t instanceof File?t:ls([await t.arrayBuffer()],t.name);if(gT(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ls(await gl(r),e,n)}const o=await gl(t);if(e||(e=pT(t)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return ls(o,e,n)}async function gl(t){var e,n,o,r,i;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(kh(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(hT(t))try{for(var u=!0,c=dt(t),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const f=r;l.push(...await gl(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${vT(t)}`)}return l}function vT(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rh{constructor(e){this._client=e}}Rh._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mh(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const hd=Object.freeze(Object.create(null)),xT=(t=Mh)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],l=n.reduce((f,h,p)=>{var g,w,S;/[?#]/.test(h)&&(r=!0);const E=o[p];let y=(r?encodeURIComponent:t)(""+E);return p!==o.length&&(E==null||typeof E=="object"&&E.toString===((S=Object.getPrototypeOf((w=Object.getPrototypeOf((g=E.hasOwnProperty)!==null&&g!==void 0?g:hd))!==null&&w!==void 0?w:hd))===null||S===void 0?void 0:S.toString))&&(y=E+"",i.push({start:f.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),f+h+(p===o.length?"":y)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,h)=>f.start-h.start),i.length>0){let f=0;const h=i.reduce((p,g)=>{const w=" ".repeat(g.start-f),S="^".repeat(g.length);return f=g.start+g.length,p+w+S},"");throw new ot(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${l}
${h}`)}return l},gr=xT(Mh);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ph extends Rh{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,i=ai(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new ot("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new ot("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(gr`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(gr`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(gr`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const i=n??{},{api_version:l=this._client.apiVersion}=i,u=ai(i,["api_version"]);return this._client.get(gr`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}Ph._key=Object.freeze(["interactions"]);class Dh extends Ph{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let yr;function Ea(t){let e;return(yr??(e=new globalThis.TextEncoder,yr=e.encode.bind(e)))(t)}let vr;function md(t){let e;return(vr??(e=new globalThis.TextDecoder,vr=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mi{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ea(e):e;this.buffer=wT([this.buffer,n]);const o=[];let r;for(;(r=ST(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(md(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=md(this.buffer.subarray(0,i));o.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Mi.NEWLINE_CHARS=new Set([`
`,"\r"]);Mi.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ST(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function ET(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ui={off:0,error:200,warn:300,info:400,debug:500},gd=(t,e,n)=>{if(t){if(tT(ui,t))return t;Pe(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ui))}`)}};function xo(){}function xr(t,e,n){return!e||ui[t]>ui[n]?xo:e[t].bind(e)}const TT={error:xo,warn:xo,info:xo,debug:xo};let yd=new WeakMap;function Pe(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return TT;const r=yd.get(n);if(r&&r[0]===o)return r[1];const i={error:xr("error",n,o),warn:xr("warn",n,o),info:xr("info",n,o),debug:xr("debug",n,o)};return yd.set(n,[o,i]),i}const sn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Un{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const i=o?Pe(o):console;function l(){return ct(this,arguments,function*(){var c,d,f,h;if(r)throw new ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var g=!0,w=dt(CT(e,n)),S;S=yield G(w.next()),c=S.done,!c;g=!0){h=S.value,g=!1;const E=h;if(!p)if(E.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield G(JSON.parse(E.data))}catch(y){throw i.error("Could not parse message into JSON:",E.data),i.error("From chunk:",E.raw),y}}}catch(E){d={error:E}}finally{try{!g&&!c&&(f=w.return)&&(yield G(f.call(w)))}finally{if(d)throw d.error}}p=!0}catch(E){if(fl(E))return yield G(void 0);throw E}finally{p||n.abort()}})}return new Un(l,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return ct(this,arguments,function*(){var c,d,f,h;const p=new Mi,g=Nh(e);try{for(var w=!0,S=dt(g),E;E=yield G(S.next()),c=E.done,!c;w=!0){h=E.value,w=!1;const y=h;for(const v of p.decode(y))yield yield G(v)}}catch(y){d={error:y}}finally{try{!w&&!c&&(f=S.return)&&(yield G(f.call(S)))}finally{if(d)throw d.error}}for(const y of p.flush())yield yield G(y)})}function l(){return ct(this,arguments,function*(){var c,d,f,h;if(r)throw new ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var g=!0,w=dt(i()),S;S=yield G(w.next()),c=S.done,!c;g=!0){h=S.value,g=!1;const E=h;p||E&&(yield yield G(JSON.parse(E)))}}catch(E){d={error:E}}finally{try{!g&&!c&&(f=w.return)&&(yield G(f.call(w)))}finally{if(d)throw d.error}}p=!0}catch(E){if(fl(E))return yield G(void 0);throw E}finally{p||n.abort()}})}return new Un(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const l=o.next();e.push(l),n.push(l)}return i.shift()}});return[new Un(()=>r(e),this.controller,this.client),new Un(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Ih({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const l=Ea(JSON.stringify(r)+`
`);o.enqueue(l)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function CT(t,e){return ct(this,arguments,function*(){var o,r,i,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ot("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ot("Attempted to iterate over a response with no body");const u=new IT,c=new Mi,d=Nh(t.body);try{for(var f=!0,h=dt(_T(d)),p;p=yield G(h.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const g=l;for(const w of c.decode(g)){const S=u.decode(w);S&&(yield yield G(S))}}}catch(g){r={error:g}}finally{try{!f&&!o&&(i=h.return)&&(yield G(i.call(h)))}finally{if(r)throw r.error}}for(const g of c.flush()){const w=u.decode(g);w&&(yield yield G(w))}})}function _T(t){return ct(this,arguments,function*(){var n,o,r,i;let l=new Uint8Array;try{for(var u=!0,c=dt(t),d;d=yield G(c.next()),n=d.done,!n;u=!0){i=d.value,u=!1;const f=i;if(f==null)continue;const h=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Ea(f):f;let p=new Uint8Array(l.length+h.length);p.set(l),p.set(h,l.length),l=p;let g;for(;(g=ET(l))!==-1;)yield yield G(l.slice(0,g)),l=l.slice(g)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=c.return)&&(yield G(r.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield G(l))})}class IT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=NT(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function NT(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function AT(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,l=await(async()=>{var u;if(e.options.stream)return Pe(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Un.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Pe(t).debug(`[${o}] response parsed`,sn({retryOfRequestLogID:r,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ta extends Promise{constructor(e,n,o=AT){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new Ta(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lh=Symbol("brand.privateNullableHeaders");function*kT(t){if(!t)return;if(Lh in t){const{values:o,nulls:r}=t;yield*o.entries();for(const i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():dd(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=dd(o[1])?o[1]:[o[1]];let l=!1;for(const u of i)u!==void 0&&(e&&!l&&(l=!0,yield[r,null]),yield[r,u])}}const ho=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[i,l]of kT(o)){const u=i.toLowerCase();r.has(u)||(e.delete(i),r.add(u)),l===null?(e.delete(i),n.add(u)):(e.append(i,l),n.delete(u))}}return{[Lh]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const as=t=>{var e,n,o,r,i,l;if(typeof globalThis.process<"u")return(o=(n=(e=ey)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Uh;class Pi{constructor(e){var n,o,r,i,l,u,c,{baseURL:d=as("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=as("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=e,p=ai(e,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:f,apiVersion:h},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(o=g.timeout)!==null&&o!==void 0?o:Pi.DEFAULT_TIMEOUT,this.logger=(r=g.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(l=(i=gd(g.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:gd(as("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:w,this.fetchOptions=g.fetchOptions,this.maxRetries=(u=g.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=g.fetch)!==null&&c!==void 0?c:uT(),this.encoder=fT,this._options=g,this.apiKey=f,this.apiVersion=h,this.clientAdapter=g.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=ho([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return ho([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ho([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new ot(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Sn}`}defaultIdempotencyKey(){return`stainless-node-retry-${YE()}`}makeStatusError(e,n,o,r){return Fe.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=XE(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return eT(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new Ta(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,i,l;const u=await e,c=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:h}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=o===void 0?"":`, retryOf: ${o}`,w=Date.now();if(Pe(this).debug(`[${p}] sending request`,sn({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((i=u.signal)===null||i===void 0)&&i.aborted)throw new hl;const S=new AbortController,E=await this.fetchWithTimeout(f,d,h,S).catch(pl),y=Date.now();if(E instanceof globalThis.Error){const x=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new hl;const T=fl(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return Pe(this).info(`[${p}] connection ${T?"timed out":"failed"} - ${x}`),Pe(this).debug(`[${p}] connection ${T?"timed out":"failed"} (${x})`,sn({retryOfRequestLogID:o,url:f,durationMs:y-w,message:E.message})),this.retryRequest(u,n,o??p);throw Pe(this).info(`[${p}] connection ${T?"timed out":"failed"} - error; no more retries left`),Pe(this).debug(`[${p}] connection ${T?"timed out":"failed"} (error; no more retries left)`,sn({retryOfRequestLogID:o,url:f,durationMs:y-w,message:E.message})),T?new yh:new Ri({cause:E})}const v=`[${p}${g}] ${d.method} ${f} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${y-w}ms`;if(!E.ok){const x=await this.shouldRetry(E);if(n&&x){const k=`retrying, ${n} attempts remaining`;return await dT(E.body),Pe(this).info(`${v} - ${k}`),Pe(this).debug(`[${p}] response error (${k})`,sn({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:y-w})),this.retryRequest(u,n,o??p,E.headers)}const T=x?"error; no more retries left":"error; not retryable";Pe(this).info(`${v} - ${T}`);const C=await E.text().catch(k=>pl(k).message),I=oT(C),_=I?void 0:C;throw Pe(this).debug(`[${p}] response error (${T})`,sn({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,message:_,durationMs:Date.now()-w})),this.makeStatusError(E.status,I,_,E.headers)}return Pe(this).info(v),Pe(this).debug(`[${p}] response start`,sn({retryOfRequestLogID:o,url:E.url,status:E.status,headers:E.headers,durationMs:y-w})),{response:E,options:u,controller:S,requestLogID:p,retryOfRequestLogID:o,startTime:w}}async fetchWithTimeout(e,n,o,r){const i=n||{},{signal:l,method:u}=i,c=ai(i,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(h.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var i;let l;const u=r==null?void 0:r.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const c=r==null?void 0:r.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await rT(l),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,l=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,i;const l=Object.assign({},e),{method:u,path:c,query:d,defaultBaseURL:f}=l,h=this.buildURL(c,d,f);"timeout"in l&&nT("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:g}=this.buildBody({options:l}),w=await this.buildHeaders({options:e,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:w},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=l.fetchOptions)!==null&&i!==void 0?i:{}),url:h,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=ho([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),aT()),this._options.defaultHeaders,o,e.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=ho([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:cT(e)}:this.encoder({body:e,headers:o})}}Pi.DEFAULT_TIMEOUT=6e4;class ye extends Pi{constructor(){super(...arguments),this.interactions=new Dh(this)}}Uh=ye;ye.GeminiNextGenAPIClient=Uh;ye.GeminiNextGenAPIClientError=ot;ye.APIError=Fe;ye.APIConnectionError=Ri;ye.APIConnectionTimeoutError=yh;ye.APIUserAbortError=hl;ye.NotFoundError=Sh;ye.ConflictError=Eh;ye.RateLimitError=Ch;ye.BadRequestError=vh;ye.AuthenticationError=xh;ye.InternalServerError=_h;ye.PermissionDeniedError=wh;ye.UnprocessableEntityError=Th;ye.toFile=yT;ye.Interactions=Dh;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function MT(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function PT(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function DT(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function LT(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(t,["epochCount"]);e!==void 0&&i!=null&&a(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const c=s(t,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function UT(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=s(t,["validationDataset"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec"],vd(g))}else if(r==="PREFERENCE_TUNING"){const g=s(t,["validationDataset"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec"],vd(g))}const i=s(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&a(e,["tunedModelDisplayName"],i);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=s(t,["epochCount"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){const g=s(t,["epochCount"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=s(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=s(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=s(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(d==="PREFERENCE_TUNING"){const g=s(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=s(t,["adapterSize"]);e!==void 0&&g!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){const g=s(t,["adapterSize"]);e!==void 0&&g!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=s(t,["labels"]);e!==void 0&&h!=null&&a(e,["labels"],h);const p=s(t,["beta"]);return e!==void 0&&p!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function FT(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&WT(i);const l=s(t,["config"]);return l!=null&&LT(l,n),n}function VT(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&KT(i,n,e);const l=s(t,["config"]);return l!=null&&UT(l,n,e),n}function bT(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function GT(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function HT(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function zT(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function BT(t,e){const n={},o=s(t,["config"]);return o!=null&&HT(o,n),n}function qT(t,e){const n={},o=s(t,["config"]);return o!=null&&zT(o,n),n}function $T(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Fh(u))),a(n,["tuningJobs"],l)}return n}function JT(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>yl(u))),a(n,["tuningJobs"],l)}return n}function OT(t,e){const n={},o=s(t,["name"]);o!=null&&a(n,["model"],o);const r=s(t,["name"]);return r!=null&&a(n,["endpoint"],r),n}function WT(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function KT(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Fh(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],Zp(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const h=s(t,["baseModel"]);h!=null&&a(n,["baseModel"],h);const p=s(t,["_self"]);return p!=null&&a(n,["tunedModel"],OT(p)),n}function yl(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],Zp(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const h=s(t,["description"]);h!=null&&a(n,["description"],h);const p=s(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const g=s(t,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const w=s(t,["preTunedModel"]);w!=null&&a(n,["preTunedModel"],w);const S=s(t,["supervisedTuningSpec"]);S!=null&&a(n,["supervisedTuningSpec"],S);const E=s(t,["preferenceOptimizationSpec"]);E!=null&&a(n,["preferenceOptimizationSpec"],E);const y=s(t,["tuningDataStats"]);y!=null&&a(n,["tuningDataStats"],y);const v=s(t,["encryptionSpec"]);v!=null&&a(n,["encryptionSpec"],v);const x=s(t,["partnerModelTuningSpec"]);x!=null&&a(n,["partnerModelTuningSpec"],x);const T=s(t,["customBaseModel"]);T!=null&&a(n,["customBaseModel"],T);const C=s(t,["experiment"]);C!=null&&a(n,["experiment"],C);const I=s(t,["labels"]);I!=null&&a(n,["labels"],I);const _=s(t,["outputUri"]);_!=null&&a(n,["outputUri"],_);const N=s(t,["pipelineJob"]);N!=null&&a(n,["pipelineJob"],N);const k=s(t,["serviceAccount"]);k!=null&&a(n,["serviceAccount"],k);const R=s(t,["tunedModelDisplayName"]);R!=null&&a(n,["tunedModelDisplayName"],R);const z=s(t,["veoTuningSpec"]);return z!=null&&a(n,["veoTuningSpec"],z),n}function YT(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function vd(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(t,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QT extends Pt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xn(Rt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:rl.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=GT(e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>yl(f))}else{const d=bT(e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Fh(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=qT(e);return u=M("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=JT(f),p=new $c;return Object.assign(p,h),p})}else{const d=BT(e);return u=M("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=$T(f),p=new $c;return Object.assign(p,h),p})}}async cancel(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=MT(e);return u=M("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=DT(f),p=new Jc;return Object.assign(p,h),p})}else{const d=RT(e);return u=M("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=PT(f),p=new Jc;return Object.assign(p,h),p})}}async tuneInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=VT(e,e);return i=M("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>yl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FT(e);return i=M("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>YT(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XT{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZT=1024*1024*8,jT=3,eC=1e3,tC=2,ci="x-goog-upload-status";async function nC(t,e,n){var o;const r=await Vh(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ci])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function oC(t,e,n){var o;const r=await Vh(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ci])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Op(i),u=new ga;return Object.assign(u,l),u}async function Vh(t,e,n){var o,r;let i=0,l=0,u=new sl(new Response),c="upload";for(i=t.size;l<i;){const d=Math.min(ZT,i-l),f=t.slice(l,l+d);l+d>=i&&(c+=", finalize");let h=0,p=eC;for(;h<jT&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[ci]));)h++,await iC(p),p=p*tC;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[ci])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function rC(t){return{size:t.size,type:t.type}}function iC(t){return new Promise(e=>setTimeout(e,t))}class sC{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nC(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oC(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lC{create(e,n,o){return new aC(e,n,o)}}class aC{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xd="x-goog-api-key";class uC{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(xd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(xd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cC="gl-node/";class dC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ye({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=ry(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new uC(this.apiKey);this.apiClient=new rE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:cC+"web",uploader:new sC,downloader:new XT}),this.models=new TE(this.apiClient),this.live=new yE(this.apiClient,r,new lC),this.batches=new Dv(this.apiClient),this.chats=new hx(this.models,this.apiClient),this.caches=new dx(this.apiClient),this.files=new Cx(this.apiClient),this.operations=new CE(this.apiClient),this.authTokens=new HE(this.apiClient),this.tunings=new QT(this.apiClient),this.fileSearchStores=new KE(this.apiClient)}}const fC=()=>{const[t,e]=D.useState("setup"),[n,o]=D.useState(!1),[r,i]=D.useState(!1),[l,u]=D.useState(!1),[c,d]=D.useState(null),[f,h]=D.useState(!1),[p,g]=D.useState([]),[w,S]=D.useState(!0),[E,y]=D.useState(60),[v,x]=D.useState("math"),[T,C]=D.useState("easy"),[I,_]=D.useState(0),[N,k]=D.useState([]),[R,z]=D.useState(()=>{const b=localStorage.getItem("quizStats");return b?JSON.parse(b):{totalQuizzes:0,totalCorrect:0,totalIncorrect:0,totalScore:0,subjects:{math:{correct:0,incorrect:0},english:{correct:0,incorrect:0}}}}),[J,F]=D.useState(()=>{const b=localStorage.getItem("dailyStreak"),Q={lastDate:null,count:0,freezes:2,history:[!1,!1,!1,!1,!1,!1,!1]};if(b){const Ce=JSON.parse(b);return{...Q,...Ce}}return Q}),[de,Se]=D.useState(!1),[Ee,ee]=D.useState(!1),[P,V]=D.useState(!1),[H,K]=D.useState(!1),[se,ht]=D.useState(0);D.useEffect(()=>{localStorage.setItem("quizStats",JSON.stringify(R))},[R]),D.useEffect(()=>{localStorage.setItem("dailyStreak",JSON.stringify(J))},[J]),D.useEffect(()=>{const b=()=>h(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",b),()=>document.removeEventListener("fullscreenchange",b)},[]);const Te=async()=>{try{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(b){console.error("Fullscreen error:",b)}};D.useEffect(()=>{if(!J.lastDate)return;(()=>{const Q=new Date;Q.setHours(0,0,0,0);const Ce=new Date(J.lastDate);Ce.setHours(0,0,0,0),Math.ceil(Math.abs(Q.getTime()-Ce.getTime())/(1e3*60*60*24))>1&&(J.freezes>0?(F(fe=>({...fe,freezes:fe.freezes-1,lastDate:new Date(Q.getTime()-864e5).toDateString(),history:[!1,!0,...fe.history.slice(1,6)]})),d(" Streak Freeze Activated!"),setTimeout(()=>d(null),5e3)):(ht(J.count),F(fe=>({...fe,count:0})),K(!0)))})()},[]),D.useEffect(()=>{const b=new Set,Q=_e=>{b.add(_e.key.toLowerCase()),(_e.ctrlKey||_e.metaKey)&&b.has("l")&&b.has("r")&&(V(fe=>!fe),b.clear())},Ce=_e=>b.delete(_e.key.toLowerCase());return window.addEventListener("keydown",Q),window.addEventListener("keyup",Ce),()=>{window.removeEventListener("keydown",Q),window.removeEventListener("keyup",Ce)}},[]);const wt=async(b,Q,Ce)=>{try{const _e=new dC({apiKey:"AIzaSyBoOi92EA-8ZFNTD5yEE1b5q21umj6NYzQ"}),fe=b==="math"?`SAT MATH (${Q.toUpperCase()}). ${Q==="hard"?"Advanced functions and geometry.":"Linear algebra and basic stats."}`:`SAT ENGLISH (${Q.toUpperCase()}). ${Q==="hard"?"Logical inference and complex structure.":"Grammar and vocabulary."}`,ue=`Generate ${Ce} unique, premium SAT practice questions. ${fe}. Return a JSON array. Each object must have "q" (string), "a" (array of 4 strings), "correct" (int 0-3), and "topic" (string).`,Di=await _e.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:ue}]}],config:{responseMimeType:"application/json",responseSchema:{type:Le.ARRAY,items:{type:Le.OBJECT,properties:{q:{type:Le.STRING},a:{type:Le.ARRAY,items:{type:Le.STRING}},correct:{type:Le.INTEGER},topic:{type:Le.STRING}},required:["q","a","correct","topic"]}}}});if(Di.text){const nn=JSON.parse(Di.text);if(Array.isArray(nn)&&nn.length>0)return nn}return null}catch(_e){return console.error("Gemini API Error:",_e),null}},Me=async(b,Q,Ce)=>{o(!0);const _e=p0[Q];let fe=await wt(b,Q,_e.numQuestions);if(fe||(fe=await wt(b,Q,_e.numQuestions)),!fe){o(!1),d(" AI Generation failed. Check connection.");return}g(fe),x(b),C(Q),S(Ce==="timed"),y(_e.timePerQ),i(!1),u(!1),o(!1),e("quiz")},B=async()=>{o(!0);const b=Math.random()>.5?"math":"english",Q=await wt(b,"medium",1);if(!Q){o(!1),d(" Failed to load Daily Op.");return}g(Q),x(b),C("medium"),S(!0),y(60),i(!0),u(!1),o(!1),e("quiz")},W=async()=>{K(!1),o(!0);const b=await wt("math","hard",1);if(!b){o(!1),d(" Recovery mission failed to load."),K(!0);return}g(b),x("math"),C("hard"),S(!0),y(90),i(!1),u(!0),o(!1),e("quiz")},te=(b,Q)=>{_(b),k(Q);const Ce=Q.length,_e=Math.round(b/(Ce||1)*800);z(ue=>({...ue,totalQuizzes:ue.totalQuizzes+1,totalCorrect:ue.totalCorrect+b,totalIncorrect:ue.totalIncorrect+(Ce-b),totalScore:ue.totalScore+_e,subjects:{...ue.subjects,[v]:{correct:ue.subjects[v].correct+b,incorrect:ue.subjects[v].incorrect+(Ce-b)}}}));const fe=new Date().toDateString();if(l)b===Ce?(F(ue=>({...ue,count:se+1,lastDate:fe,history:[!0,...ue.history.slice(0,6)]})),d(" STREAK RESTORED!")):(F(ue=>({...ue,count:0,lastDate:fe,history:[!1,...ue.history.slice(0,6)]})),d("Recovery failed. Streak reset."));else if(r&&J.lastDate!==fe){const ue=new Date;ue.setDate(ue.getDate()-1);const nn=J.lastDate===ue.toDateString()?J.count+1:1;let Li=J.freezes;nn>0&&nn%7===0&&(Li=Math.min(Li+1,5),d(" 7-Day Streak! +1 Freeze.")),F(Ca=>({...Ca,count:nn,freezes:Li,lastDate:fe,history:[!0,...Ca.history.slice(0,6)]}))}e("result")},tn=()=>{z({totalQuizzes:0,totalCorrect:0,totalIncorrect:0,totalScore:0,subjects:{math:{correct:0,incorrect:0},english:{correct:0,incorrect:0}}}),F({lastDate:null,count:0,freezes:2,history:[!1,!1,!1,!1,!1,!1,!1]}),Se(!1)};return m.jsxs("div",{className:"font-sans text-gray-100 min-h-screen relative overflow-hidden bg-gray-950",children:[m.jsx(h0,{}),m.jsx("div",{className:"fixed top-6 right-20 z-50 hidden md:block",children:m.jsx("button",{onClick:Te,className:"p-3 bg-black/40 hover:bg-white/10 backdrop-blur-md rounded-full border border-white/10 transition-colors",children:f?m.jsx(Bp,{className:"w-5 h-5 text-white/60"}):m.jsx(zp,{className:"w-5 h-5 text-white/60"})})}),c&&m.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[200] animate-slide-up",children:m.jsxs("div",{className:"glass-card px-6 py-3 rounded-full border border-indigo-500/30 flex items-center gap-2 shadow-2xl bg-black/50 backdrop-blur-xl",children:[m.jsx(nl,{className:"w-4 h-4 text-indigo-400"}),m.jsx("span",{className:"font-bold text-sm text-white",children:c})]})}),n&&m.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-md animate-fade-in",children:[m.jsx(D0,{className:"w-16 h-16 text-indigo-400 animate-spin"}),m.jsxs("div",{className:"mt-6 flex flex-col items-center gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(nl,{className:"w-5 h-5 text-indigo-300 animate-pulse"}),m.jsx("span",{className:"text-xl font-medium text-white/90 animate-pulse",children:"Generating SAT Mastery..."})]}),m.jsx("p",{className:"text-sm text-white/40",children:"Querying gemini-3-flash-preview"})]})]}),t==="setup"&&m.jsx(O0,{onStart:Me,onDaily:B,onSettings:()=>Se(!0),onOpenBank:()=>e("bank"),streak:J,stats:R,toggleFullscreen:Te,isFullscreen:f}),t==="quiz"&&m.jsx(W0,{questions:p,isTimed:w,timePerQuestion:E,onComplete:te,onExit:()=>e("setup"),subject:v}),t==="result"&&m.jsx(K0,{score:I,total:p.length,history:N,questions:p,onRetry:()=>Me(v,T,w?"timed":"practice"),onHome:()=>e("setup")}),t==="bank"&&m.jsx(Z0,{onBack:()=>e("setup")}),m.jsx(Y0,{isOpen:de,onClose:()=>Se(!1),stats:R,onResetStats:tn,onOpenResources:()=>ee(!0)}),m.jsx(Q0,{isOpen:Ee,onClose:()=>ee(!1)}),m.jsx(j0,{isOpen:H,lostStreak:se,onRecover:W,onAcceptLoss:()=>K(!1)}),m.jsx(X0,{isOpen:P,onClose:()=>V(!1),stats:R,setStats:z,streak:J,setStreak:F,view:t,setView:e})]})},bh=document.getElementById("root");if(!bh)throw new Error("Could not find root element to mount to");const pC=us.createRoot(bh);pC.render(m.jsx(tm.StrictMode,{children:m.jsx(fC,{})}));
